package br.gov.siscomex.portalunico.ccta_ext_xml.api;


import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import io.swagger.annotations.ApiParam;
import io.swagger.annotations.ApiResponse;
import io.swagger.annotations.ApiResponses;

import javax.validation.Valid;
import javax.validation.constraints.NotNull;
import javax.ws.rs.Consumes;
import javax.ws.rs.HeaderParam;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.QueryParam;
import javax.ws.rs.core.Response;

/**
 * Controle de Carga e Trânsito Importação - Modal Aéreo
 *
 * <p><h4>Manual do Usuário</h4><p style=\"margin-bottom: 1em; margin-top: 1em;\">Informações detalhadas sobre serviços e funcionalidades em tela, assim como a lista de funcionalidades disponíveis para cada perfil de acesso, podem ser consultados no <a  href=\"https://www.gov.br/siscomex/pt-br/arquivos-e-imagens/manualcctimportao.pdf\">manual do usuário do CCT  Importação</a>.</p><h4>Introdução</h4><p style=\"margin-bottom: 1em; margin-top: 1em;\">Bem-vindo à Application Programming Interface (API) de interação com o  novo Sistema de Controle de Carga e Trânsito (CCT Importação - Modal Aéreo). Trata-se de um conjunto de rotinas e  padrões de programação para acesso a um aplicativo de software baseado nos padrões Web, que permitirá a manifestação e gestão do fluxo logístico de viagens e cargas dentro do Portal Único de Comércio Exterior.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A documentação a seguir descreve os serviços da versão atual do sistema, disponível no ambiente de validação do setor privado. Não há, até o momento, versão disponível para uso em produção. O intuito da API é permitir que as empresas possam realizar testes, preparando as adaptações necessárias em seus sistemas. As informações encaminhadas para os endpoints, neste momento, não terão valor legal, nem serão reaproveitadas em produção.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os perfis de acesso que podem utilizar cada serviço encontram-se listados no  manual do usuário. Os Operadores de Remessa Postal/Expressa podem atuar como transportador, agente de carga,  depositário ou importador, desde que devidamente cadastrados nestes perfis de atuação.  As ESATA (Empresas de Serviços Auxiliares ao Transporte Aéreo) podem interagir com os serviços desde que possuam  representação para atuar como transportador ou agente de carga. Para executar as ações relacionadas à recepção de carga e  à chegada de veículo terrestre (trânsito aduaneiro), os recintos aduaneiros (depositários) devem utilizar os serviços  disponibilizados pela <a  href=\"https://api-docs.portalunico.siscomex.gov.br/swagger/rcnt.html\">API Recintos Aduaneiros</a>.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para a utilização dos serviços do CCT Importação – Modal Aéreo, a autenticação via certificação digital por e-CPF é obrigatória. Na seção <a  href=\"https://docs.portalunico.siscomex.gov.br/introducao-api-publica/\">Introdução</a> da API do Portal Único de Comércio Exterior, podem ser encontradas as orientações gerais sobre os padrões de comunicação dos serviços, os procedimentos para autenticação e os códigos de resposta das requisições.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os serviços, a princípio, não estarão disponíveis no horário de 1:00h às 3:00h, em virtude de parada programada dos sistemas de comércio exterior.</p><h4>Manifestação de Viagens e Cargas (arquivos Cargo XML)</h4><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos referentes à manifestação de viagens e cargas devem seguir o padrão Cargo XML da IATA (Associação Internacional de Transportes Aéreos). Para conhecimento dos elementos de dados, estrutura e formato do padrão XSD, deve-se buscar a informação no site da IATA (www.iata.org). Nesta API, serão detalhadas somente as informações solicitadas de forma diferente do padrão IATA.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Serão solicitados aos transportadores aéreos os arquivos XFFM/XFWB,  e aos agentes de carga os arquivos XFZB/XFHL, a serem enviados pelos serviços abaixo, descritos em maiores detalhes nas  suas respectivas seções desta API:</p><ul> <li>Informar Viagem - XFFM (Flight Manifest)</li> <li>Informar Conhecimento de Carga - XFWB (Freight Waybill)</li> <li>Informar Conhecimento de Carga House - XFZB (House Air Waybill)</li> <li>Informar Associação Master e House - XFHL (House Manifest)</li></ul><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos somente serão recebidos caso o XML esteja de acordo com o XSD da IATA. Os arquivos corretamente validados passarão à situação &quot;<em>Received</em>&quot; e receberão um número de protocolo associado ao recebimento desse arquivo, sendo encaminhados para processamento. Os arquivos que não forem validados pelo XSD da IATA terão situação &quot;<em>Rejected</em>&quot; e não receberão número de protocolo.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Após a validação do XSD, será realizado o processamento do conteúdo dos campos dos arquivos. Este processamento inclui verificações, tais como: se o campo foi informado vazio ou acima do tamanho permitido, se as informações constam no cadastro da Receita Federal (CPF, CNPJ), etc., com vistas à gravação do dado na base. Os arquivos corretamente processados passarão à situação &quot;<em>Processed</em>&quot;, e os que apresentarem algum tipo de erro passarão para &quot;<em>Rejected</em>&quot;.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A qualquer momento, a situação dos arquivos enviados pode ser consultada pelos seguintes serviços descritos nesta API:</p><ul> <li>Consultar Situação de Arquivos por Data</li> <li>Consultar Situação de Arquivos por Número de Protocolo</li></ul><p style=\"margin-bottom: 1em; margin-top: 1em;\">Durante o processamento, haverá batimento do conteúdo dos dados com tabelas de domínio. Os domínios que estão sendo validados e que podem causar rejeição de arquivo referem-se a:</p><ul> <li>Aeroportos (código com três posições) - IATA Airport Code</li> <li>Companhia Aérea (número com três posições e código com duas posições) - IATA Airline Codes</li> <li>Indicador de Parcialidade de carga numa viagem - IATA Code List 1.15</li> <li>Moeda (código alfanumérico com três posições) - ISO 4217</li> <li>Países (sigla com duas posições) – ISO 3166</li> <li>Recinto Aduaneiro (código com sete posições) – site da Receita Federal do Brasil</li> <li>Unidade de Medida (Peso) - rec20_Rev10e_2014.xls do site <a   href=\"http://www.unece.org/uncefact/codelistrecs.html\">http://www.unece.org/uncefact/codelistrecs.html</a> </li> <li>Unidade de Medida (Volume) - IATA Code List 1.20</li> <li>Voos - Código de voo com duas posições alfanuméricas referentes à Companhia Aérea e quatro posições numéricas  referentes ao número do voo.</li></ul><p style=\"margin-bottom: 1em; margin-top: 1em;\">A lista de campos a serem informados e a definição de se eles são obrigatórios ou opcionais seguirão, via de regra, os padrões estabelecidos pela IATA, passando pela validação do XSD. As exceções serão mencionadas explicitamente na descrição dos serviços na API, fazendo parte do processamento dos arquivos. Os tipos e tamanhos de campos também seguirão, via de regra, os padrões estabelecidos pela IATA e, quando não validados pelo XSD, serão verificados no processamento.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Serão processados os seguintes tipos de operação para os arquivos:</p><ul> <li>XFFM – Creation</li> <li>XFWB, XFZB, XFHL – Creation, Update e Deletion</li></ul><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos XFFM, XFWB, XFZB e XFHL podem ser enviados em qualquer ordem, desde que cumpram com os prazos estabelecidos pela Receita Federal do Brasil.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">O escopo atual do projeto se encontra restrito a voos regulares. Voos não regulares serão objeto de versões futuras.</p><h4>URLs de Acesso</h4><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para utilizar os servi&ccedil;os dispon&iacute;veis nessa API deve-se seguir o seguinte padr&atilde;o de URL:</p><p style=\"margin-bottom: 1em; margin-top: 1em;\"><em>https://{ambiente}/<strong>ccta</strong>/{servi&ccedil;o}</em></p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Onde, em <strong>{ambiente}</strong> deve-se informar o ambiente desejado dentro os ambientes dispon&iacute;veis na tabela abaixo e em <strong>{servi&ccedil;o}</strong> utilizar a URL do servi&ccedil;o desejado.</p><style type=\"text/css\"> .tg {  border-collapse: collapse;  border-color: #bbb;  border-spacing: 0;  width: 604px; } .tg td {  background-color: #E0FFEB;  border-color: #bbb;  border-style: solid;  border-width: 1px;  color: #594F4F;  font-family: Arial, sans-serif;  font-size: 14px;  overflow: hidden;  padding: 10px 5px;  word-break: normal; } .tg th {  background-color: #9DE0AD;  border-color: #bbb;  border-style: solid;  border-width: 1px;  color: #493F3F;  font-family: Arial, sans-serif;  font-size: 14px;  font-weight: normal;  overflow: hidden;  padding: 10px 5px;  word-break: normal; } .tg .tg-cabecalho {  text-align: left;  vertical-align: top } .tg .tg-corpo {  border-color: inherit;  text-align: left;  vertical-align: top }</style><span id=\"ip1\">&nbsp;</span><table class=\"tg\" style=\"width: 604px;\" aria-describedby=\"ip1\"> <thead>  <tr>   <th class=\"tg-cabecalho\"><span style=\"font-weight:bold\">Nome do Ambiente</span></th>   <th class=\"tg-cabecalho\"><span style=\"font-weight:bold\">URL de acesso</span></th>  </tr> </thead> <tbody>  <tr>   <td class=\"tg-corpo\">Ambiente de Validação da Empresas</td>   <td class=\"tg-corpo\">val.portalunico.siscomex.gov.br</td>  </tr>  <tr>   <td class=\"\\tg-corpo\">Ambiente de Produção</td>   <td class=\"\\tg-corpo\">portalunico.siscomex.gov.br</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">&nbsp;</p><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Exemplo:</strong> Para o servi&ccedil;o \"Informar Viagem - XFFM (Flight Manifest)\" a URL &eacute; \"/api/ext/incoming/xffm\".</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Logo, abaixo temos um exemplo de URL completa considerando o ambiente de Valida&ccedil;&atilde;o, consumindo este servi&ccedil;o </p><p style=\"margin-bottom: 1em; margin-top: 1em;\"> <em>https://val.portalunico.siscomex.gov.br/ccta/api/ext/incoming/xffm</em></p>
 *
 */
@Path("/")
@Api(value = "/", description = "")
public interface ServiosDeEnvioDeArquivosApi  {

    /**
     * Informar Viagem - XFFM (Flight Manifest)
     *
     * &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Encaminhamento de arquivo XML para processamento de viagens áereas com suas respectivas cargas. Uma viagem consiste em um voo específico, aeroporto de partida, aeroporto(s) de chegada(s) e data/hora de partida. Será permitida apenas uma mensagem &lt;strong&gt;(XFFM)&lt;/strong&gt; por arquivo, contendo a operação Creation, na versão 2.00, conforme o padrão estabelecido pela IATA. Não há operação Update ou Deletion para este arquivo.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Inicialmente, somente serão aceitos arquivos de viagem &lt;strong&gt;XFFM&lt;/strong&gt; com aeroporto de partida no exterior e o primeiro aeroporto de chegada no Brasil. Desta forma, o aeroporto de partida constante no &lt;strong&gt;XFFM&lt;/strong&gt; deve ser referente à última partida antes de chegar ao Brasil. Todas as cargas que se encontram na aeronave, independentemente do destino final das cargas, devem constar do &lt;strong&gt;XFFM&lt;/strong&gt;.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A data/hora de partida efetiva da viagem deve ser anterior à data/hora da chegada da viagem, caso haja informação de chegada para a mesma.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os arquivos &lt;strong&gt;XFFM&lt;/strong&gt; devem ser enviados uma única vez por viagem. Caso seja necessária alteração dos dados após o envio, pode ser enviado novo arquivo com a operação Creation, que deve conter a mesma identificação de viagem e data de criação posterior à anterior (FlightManifest/MessageHeaderDocument/IssueDateTime). Arquivos com mesma identificação de viagem e data de criação igual ou anterior serão rejeitados (situação &amp;quot;Rejected&amp;quot;).&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A identificação da viagem (FlightManifest/BusinessHeaderDocument/ID) deve ser informada conforme o padrão IATA, contendo exatamente 17 posições, no formato XX9999AAAAMMDDYYY, sendo:&lt;/p&gt;&lt;ul&gt; &lt;li&gt;XX9999: Código do voo, formado por 2 caracteres da sigla IATA da CIA aérea e 4 caracteres do número de voo.  Quando o número do voo contiver menos de 4 caracteres numéricos, devem ser informados zeros à esquerda.&lt;/li&gt; &lt;li&gt;AAAAMMDD: Data de partida prevista do último aeroporto estrangeiro antes de vir ao Brasil.&lt;/li&gt; &lt;li&gt;YYY: Aeroporto de partida do último aeroporto estrangeiro antes de vir ao Brasil.&lt;/li&gt;&lt;/ul&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Um arquivo &lt;strong&gt;XFFM&lt;/strong&gt; que está sendo enviado pela primeira vez pode ser encaminhado a qualquer momento, inclusive após a chegada da aeronave. Já um arquivo que esteja substituindo o arquivo anterior poderá ser enviado após a primeira chegada da aeronave daquela viagem no Brasil, contanto que a retificação não seja para exclusão de conhecimentos de carga associados à viagem. Vale ressaltar que a troca do aeroporto de chegada de um conhecimento de carga não é considerada exclusão. Somente será considerada exclusão quando o conhecimento era mencionado no &lt;strong&gt;XFFM&lt;/strong&gt; original e deixou de ser mencionado após a retificação, independentemente do aeroporto de chegada.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Após 48 horas da chegada da viagem, não é mais permitido alterar informações sobre os conhecimentos de carga (ex: indicador de parcialidade, peso, volumes, etc) previstos para este aeroporto, sendo permitida apenas a inclusão de novos conhecimentos de carga. Para os demais aeroportos, pode haver alterações normalmente até que ocorra a informação de chegada da viagem.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A retificação de uma viagem poderá ser realizada igualmente via tela, sendo permitido a cada Companhia Aérea retificar somente as suas viagens, considerando a representação do usuário que está utilizando o sistema.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para viagens com partida no exterior, devem ser enviados apenas arquivos &lt;strong&gt;XFFM&lt;/strong&gt; com data da partida efetiva (A – Actual, após a partida do veículo) na tag FlightManifest/LogisticsTransportMovement/DepartureEvent/DepartureDateTimeTypeCode. Caso a data de partida seja prevista (S – Scheduled, antes da partida do veículo), o arquivo será rejeitado.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os conhecimentos de carga informados na viagem deverão ter código de classificação de mercadoria com 2, 4, 6 ou 8 posições em FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedMasterConsignmentItem/TypeCode. Esta tag poderá ser repetida caso seja desejado informar mais de um código.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Todos os códigos de aeroporto devem ser informados com 3 caracteres, não sendo permitidos códigos UNLOCODE de 5 caracteres.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os indicadores de parcialidade, informados na tag FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/TransportSplitDescription, são divididos em dois grupos:&lt;/p&gt;&lt;ul&gt; &lt;li&gt;Total - valores T ou S&lt;/li&gt; &lt;li&gt;Parcial - valores P, D ou M&lt;/li&gt;&lt;/ul&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Em um mesmo XFFM, um conhecimento de carga só pode ser informado dentro do mesmo  grupo de parcialidade.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Todas as informações de data no arquivo devem ser encaminhadas com o fuso horário no padrão YYYY-MM-DD&#39;T&#39;HH:mm:ss:SSS(‘+’/’-’)ZZ:ZZ.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A informação do fuso horário de partida ou chegada da aeronave refere-se ao fuso horário local. A data de criação do arquivo deverá ser informada com o fuso do local onde foi criado.&lt;/p&gt; &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;De acordo com a necessidade da Receita Federal do Brasil, algumas informações poderão ser registradas no bloco de dados &amp;quot;OtherCustomsInformations&amp;quot;, conforme apresentado a seguir:&lt;/p&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;indicador-conhecimento\&quot;&gt;Indicador de conhecimento de carga não IATA&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;OBS:&lt;/strong&gt; Caso seja informado um conhecimento de carga cuja identificação não esteja no padrão IATA, será obrigatório informar este indicador, caso contrário o arquivo será rejeitado.&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;indicador-conhecimento\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/ContendCode   &lt;/td&gt;   &lt;td&gt;Informar &amp;quot;DI&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/Content   &lt;/td&gt;   &lt;td&gt;Informar &amp;quot;NON-IATA&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/SubjectCode   &lt;/td&gt;   &lt;td&gt;Informar &amp;quot;WBI&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/CountryID   &lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;codigo-recinto\&quot;&gt;Código do Recinto Aduaneiro da Chegada da Viagem&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;OBS:&lt;/strong&gt;Este indicador deverá ser utilizado para sinalizar que a carga não será recepcionada no recinto aduaneiro principal do aeroporto de chegada, não sendo portanto uma tag obrigatória. O recinto aduaneiro informado neste indicador terá visibilidade de todas as cargas com chegada neste aeroporto. Este indicador poderá ser informado para cada aeroporto de chegada informado no &lt;strong&gt;XFFM&lt;/strong&gt;.&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;codigo-recinto\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;FlightManifest/LogisticsTransportMovement/IncludedCustomsNote/ContendCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;M&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;FlightManifest/LogisticsTransportMovement/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Informar &amp;quot;CUSTOMSWAREHOUSEXXX9999999&amp;quot;&lt;/p&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Contém 26 caracteres, sendo:&lt;/p&gt;    &lt;ul&gt;     &lt;li&gt;- 1º ao 16º caractere: texto fixo escrito CUSTOMSWAREHOUSE&lt;/li&gt;     &lt;li&gt;- 17º ao 19º caractere (XXX): sigla IATA do aeroporto de chegada da viagem com 3 posições&lt;/li&gt;     &lt;li&gt;- 20º ao 26º caractere (9999999): código do recinto aduaneiro que irá recepcionar as cargas&lt;/li&gt;    &lt;/ul&gt;   &lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;FlightManifest/LogisticsTransportMovement/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;CCL&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;FlightManifest/LogisticsTransportMovement/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;data-emissao\&quot;&gt;Data de emissão de conhecimento de carga&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;OBS:&lt;/strong&gt;Este indicador deve ser informado quando a viagem estiver vinculada a conhecimento de carga que foi emitido há mais de um ano da data efetiva de partida da viagem (conhecimento não vigente). Caso este indicador não seja informado, o sistema vinculará a viagem aos conhecimentos de cargas vigentes no sistema.&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;data-emissao\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/ContendCode   &lt;/td&gt;   &lt;td&gt;Informar a tag com conteúdo vazio: &amp;quot;&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/Content   &lt;/td&gt;   &lt;td&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Informar &amp;quot;CARRIERDECLARATIONDATEAAAAMMDD&amp;quot;:&lt;/p&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Contém 30 caracteres, sendo:&lt;/p&gt;    &lt;ul&gt;     &lt;li&gt;- 1º ao 22º caractere: CARRIERDECLARATIONDATE (texto fixo)&lt;/li&gt;     &lt;li&gt;- 23º ao 30º caractere (AAAAMMDD): data de emissão do conhecimento que será associado&lt;/li&gt;    &lt;/ul&gt;   &lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;    &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/SubjectCode   &lt;/td&gt;   &lt;td&gt;Informar &amp;quot;WBI&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/CountryID   &lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;par-metros-de-entrada-\&quot;&gt;Parâmetros de Entrada:&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;par-metros-de-entrada-\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Nome&lt;/th&gt;   &lt;th&gt;Descrição&lt;/th&gt;   &lt;th&gt;Tipo&lt;/th&gt;   &lt;th&gt;Local&lt;/th&gt;   &lt;th&gt;Detalhes&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Arquivo de viagem aérea (XFFM)&lt;/td&gt;   &lt;td&gt;Viagem com sua lista de conhecimentos&lt;/td&gt;   &lt;td&gt;Arquivo XML &lt;strong&gt;obrigatório&lt;/strong&gt;&lt;/td&gt;   &lt;td&gt;Body&lt;/td&gt;   &lt;td&gt;Versão 2.00 da IATA - informado pelas Companhias Aéreas&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;CNPJ&lt;/td&gt;   &lt;td&gt;CNPJ da Companhia Aérea&lt;/td&gt;   &lt;td&gt;Numérico(14) &lt;strong&gt;obrigatório&lt;/strong&gt;&lt;/td&gt;   &lt;td&gt;Query Param&lt;/td&gt;   &lt;td&gt;CNPJ (formato 99999999999999)&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;resposta\&quot;&gt;Resposta :&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os serviços de recebimento de arquivos terão o retorno de processamento por arquivo XFNM na versão 3.00, com as seguintes informações:&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;resposta\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Message Reference ID&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / ID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;BRCUSTOMS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Name&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / Name&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;Response&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Type&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / TypeCode&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;294&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Date / Time Stamp&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / IssueDateTime&lt;/td&gt;   &lt;td&gt;Data / hora de processamento do arquivo - UTC time&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Function&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / PurposeCode&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;Response&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Version&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / VersionID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;3.0&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Sender Qualifier&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / SenderParty / schemeID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;C&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Sender Identification&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / SenderParty / PrimaryID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;BRCUSTOMS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Recipient Qualifier&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / RecipientParty / schemeID&lt;/td&gt;   &lt;td&gt;Valor do campo Sender Qualifier (tag MessageHeaderDocument / SenderParty / schemeID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com “O’ (letra O)&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Recipient Identification&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / RecipientParty / PrimaryID&lt;/td&gt;   &lt;td&gt;Valor do campo Sender Identification (tag MessageHeaderDocument / SenderParty / PrimaryID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com &amp;quot;NOT IDENTIFIED&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Type&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / TypeCode&lt;/td&gt;   &lt;td&gt;Valor do campo Message Type (tag MessageHeaderDocument / TypeCode) do arquivo original. Caso este campo    não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com 999.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Name&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / Name&lt;/td&gt;   &lt;td&gt;Valor do campo Message Name (tag MessageHeaderDocument / Name) do arquivo original. Caso este campo não    seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com &amp;quot;NOT    IDENTIFIED&amp;quot;.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Original Document Identification&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / ID&lt;/td&gt;   &lt;td&gt;Valor do campo Message Reference ID (tag MessageHeaderDocument / ID) do arquivo original. Caso este    campo não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com    &amp;quot;NOT IDENTIFIED&amp;quot;.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Response Type&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / StatusCode&lt;/td&gt;   &lt;td&gt;“&lt;em&gt;Received&lt;/em&gt;” , “&lt;em&gt;Rejected&lt;/em&gt;” ou “&lt;em&gt;Processed&lt;/em&gt;” – conforme processamento do arquivo.    Na versão atual, haverá resposta apenas nas situações “&lt;em&gt;Received&lt;/em&gt;” (arquivo recebido e será    processado) ou “&lt;em&gt;Rejected&lt;/em&gt;”(arquivo foi rejeitado)&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os arquivos que passarem pela validação do XSD (formato estabelecido pela IATA), receberão status “&lt;em&gt;Received&lt;/em&gt;”, acompanhado do número de protocolo gerado para este arquivo. Este número de protocolo pode ser utilizado para verificar a situação de processamento do arquivo por meio dos serviços &lt;em&gt;“Consultar Situação de Arquivos por Período”&lt;/em&gt; ou &lt;em&gt;“Consultar Situação de Arquivos por número de  Protocolo”&lt;/em&gt;.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Já os arquivos que não passarem pela validação do XSD (formato estabelecido pela IATA) receberão status “&lt;em&gt;Rejected&lt;/em&gt;”, acompanhado da lista de erros encontrados.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para arquivos com o campo Response Type igual a “&lt;em&gt;Received&lt;/em&gt;\&quot;, haverá somente um registro do bloco de dados Response Status, conforme abaixo. O campo &amp;quot;Text&amp;quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.&lt;/p&gt;&lt;span id&#x3D;\&quot;ip1\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;table aria-describedby&#x3D;\&quot;ip1\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Category&lt;/td&gt;   &lt;td&gt;ResponseStatus / ConditionCode&lt;/td&gt;   &lt;td&gt;Acknowledgement&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Text&lt;/td&gt;   &lt;td&gt;ResponseStatus / Reason&lt;/td&gt;   &lt;td&gt;Número do protocolo de recebimento&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para arquivos com o campo Response Type igual a “&lt;em&gt;Rejected&lt;/em&gt;”, cada ocorrência de erro conterá as seguintes informações no bloco de dados Response Status. O campo &amp;quot;Text&amp;quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.&lt;/p&gt;&lt;span id&#x3D;\&quot;ip2\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;table aria-describedby&#x3D;\&quot;ip2\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Category&lt;/td&gt;   &lt;td&gt;ResponseStatus / ConditionCode&lt;/td&gt;   &lt;td&gt;Error&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Text&lt;/td&gt;   &lt;td&gt;ResponseStatus / Reason&lt;/td&gt;   &lt;td&gt;Texto contendo a linha e coluna com erro, (informando Row:&amp;#60;número da linha&amp;#62; &amp;#124;    Column:&amp;#60;número da coluna&amp;#62;) e a descrição do erro verificada.Tamanho do campo: 5000 posições. Ex:    &amp;quot;Row:7&amp;#124;Column:20&amp;#124;Error: cvc-complex-type.2.4.a: Invalid content was found starting with    element &amp;#39;{&amp;quot;iata:datamodel:3&amp;quot;:PurposeCode}&amp;#39;. One of    &amp;#39;{&amp;quot;iata:datamodel:3&amp;quot;:IssueDateTime}&amp;#39; is expected.&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;
     *
     */
    @POST
    @Path("/api/ext/incoming/xffm")
    @Consumes({ "application/xml" })
    @Produces({ "application/xml" })
    @ApiOperation(value = "Informar Viagem - XFFM (Flight Manifest)", notes = "<p style=\"margin-bottom: 1em; margin-top: 1em;\">Encaminhamento de arquivo XML para processamento de viagens áereas com suas respectivas cargas. Uma viagem consiste em um voo específico, aeroporto de partida, aeroporto(s) de chegada(s) e data/hora de partida. Será permitida apenas uma mensagem <strong>(XFFM)</strong> por arquivo, contendo a operação Creation, na versão 2.00, conforme o padrão estabelecido pela IATA. Não há operação Update ou Deletion para este arquivo.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Inicialmente, somente serão aceitos arquivos de viagem <strong>XFFM</strong> com aeroporto de partida no exterior e o primeiro aeroporto de chegada no Brasil. Desta forma, o aeroporto de partida constante no <strong>XFFM</strong> deve ser referente à última partida antes de chegar ao Brasil. Todas as cargas que se encontram na aeronave, independentemente do destino final das cargas, devem constar do <strong>XFFM</strong>.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A data/hora de partida efetiva da viagem deve ser anterior à data/hora da chegada da viagem, caso haja informação de chegada para a mesma.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos <strong>XFFM</strong> devem ser enviados uma única vez por viagem. Caso seja necessária alteração dos dados após o envio, pode ser enviado novo arquivo com a operação Creation, que deve conter a mesma identificação de viagem e data de criação posterior à anterior (FlightManifest/MessageHeaderDocument/IssueDateTime). Arquivos com mesma identificação de viagem e data de criação igual ou anterior serão rejeitados (situação &quot;Rejected&quot;).</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A identificação da viagem (FlightManifest/BusinessHeaderDocument/ID) deve ser informada conforme o padrão IATA, contendo exatamente 17 posições, no formato XX9999AAAAMMDDYYY, sendo:</p><ul> <li>XX9999: Código do voo, formado por 2 caracteres da sigla IATA da CIA aérea e 4 caracteres do número de voo.  Quando o número do voo contiver menos de 4 caracteres numéricos, devem ser informados zeros à esquerda.</li> <li>AAAAMMDD: Data de partida prevista do último aeroporto estrangeiro antes de vir ao Brasil.</li> <li>YYY: Aeroporto de partida do último aeroporto estrangeiro antes de vir ao Brasil.</li></ul><p style=\"margin-bottom: 1em; margin-top: 1em;\">Um arquivo <strong>XFFM</strong> que está sendo enviado pela primeira vez pode ser encaminhado a qualquer momento, inclusive após a chegada da aeronave. Já um arquivo que esteja substituindo o arquivo anterior poderá ser enviado após a primeira chegada da aeronave daquela viagem no Brasil, contanto que a retificação não seja para exclusão de conhecimentos de carga associados à viagem. Vale ressaltar que a troca do aeroporto de chegada de um conhecimento de carga não é considerada exclusão. Somente será considerada exclusão quando o conhecimento era mencionado no <strong>XFFM</strong> original e deixou de ser mencionado após a retificação, independentemente do aeroporto de chegada.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Após 48 horas da chegada da viagem, não é mais permitido alterar informações sobre os conhecimentos de carga (ex: indicador de parcialidade, peso, volumes, etc) previstos para este aeroporto, sendo permitida apenas a inclusão de novos conhecimentos de carga. Para os demais aeroportos, pode haver alterações normalmente até que ocorra a informação de chegada da viagem.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A retificação de uma viagem poderá ser realizada igualmente via tela, sendo permitido a cada Companhia Aérea retificar somente as suas viagens, considerando a representação do usuário que está utilizando o sistema.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para viagens com partida no exterior, devem ser enviados apenas arquivos <strong>XFFM</strong> com data da partida efetiva (A – Actual, após a partida do veículo) na tag FlightManifest/LogisticsTransportMovement/DepartureEvent/DepartureDateTimeTypeCode. Caso a data de partida seja prevista (S – Scheduled, antes da partida do veículo), o arquivo será rejeitado.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os conhecimentos de carga informados na viagem deverão ter código de classificação de mercadoria com 2, 4, 6 ou 8 posições em FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedMasterConsignmentItem/TypeCode. Esta tag poderá ser repetida caso seja desejado informar mais de um código.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Todos os códigos de aeroporto devem ser informados com 3 caracteres, não sendo permitidos códigos UNLOCODE de 5 caracteres.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os indicadores de parcialidade, informados na tag FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/TransportSplitDescription, são divididos em dois grupos:</p><ul> <li>Total - valores T ou S</li> <li>Parcial - valores P, D ou M</li></ul><p style=\"margin-bottom: 1em; margin-top: 1em;\">Em um mesmo XFFM, um conhecimento de carga só pode ser informado dentro do mesmo  grupo de parcialidade.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Todas as informações de data no arquivo devem ser encaminhadas com o fuso horário no padrão YYYY-MM-DD'T'HH:mm:ss:SSS(‘+’/’-’)ZZ:ZZ.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A informação do fuso horário de partida ou chegada da aeronave refere-se ao fuso horário local. A data de criação do arquivo deverá ser informada com o fuso do local onde foi criado.</p> <p style=\"margin-bottom: 1em; margin-top: 1em;\">De acordo com a necessidade da Receita Federal do Brasil, algumas informações poderão ser registradas no bloco de dados &quot;OtherCustomsInformations&quot;, conforme apresentado a seguir:</p></br><h3 id=\"indicador-conhecimento\">Indicador de conhecimento de carga não IATA</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>OBS:</strong> Caso seja informado um conhecimento de carga cuja identificação não esteja no padrão IATA, será obrigatório informar este indicador, caso contrário o arquivo será rejeitado.</p><table aria-describedby=\"indicador-conhecimento\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/ContendCode   </td>   <td>Informar &quot;DI&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/Content   </td>   <td>Informar &quot;NON-IATA&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/SubjectCode   </td>   <td>Informar &quot;WBI&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/CountryID   </td>   <td>Informar &quot;BR&quot;</td>   <td></td>  </tr>   </tbody></table></br><h3 id=\"codigo-recinto\">Código do Recinto Aduaneiro da Chegada da Viagem</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>OBS:</strong>Este indicador deverá ser utilizado para sinalizar que a carga não será recepcionada no recinto aduaneiro principal do aeroporto de chegada, não sendo portanto uma tag obrigatória. O recinto aduaneiro informado neste indicador terá visibilidade de todas as cargas com chegada neste aeroporto. Este indicador poderá ser informado para cada aeroporto de chegada informado no <strong>XFFM</strong>.</p><table aria-describedby=\"codigo-recinto\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>FlightManifest/LogisticsTransportMovement/IncludedCustomsNote/ContendCode</td>   <td>Informar &quot;M&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>FlightManifest/LogisticsTransportMovement/IncludedCustomsNote/Content</td>   <td>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">Informar &quot;CUSTOMSWAREHOUSEXXX9999999&quot;</p>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">Contém 26 caracteres, sendo:</p>    <ul>     <li>- 1º ao 16º caractere: texto fixo escrito CUSTOMSWAREHOUSE</li>     <li>- 17º ao 19º caractere (XXX): sigla IATA do aeroporto de chegada da viagem com 3 posições</li>     <li>- 20º ao 26º caractere (9999999): código do recinto aduaneiro que irá recepcionar as cargas</li>    </ul>   </td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>FlightManifest/LogisticsTransportMovement/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;CCL&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>FlightManifest/LogisticsTransportMovement/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>   <td></td>  </tr>   </tbody></table></br><h3 id=\"data-emissao\">Data de emissão de conhecimento de carga</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>OBS:</strong>Este indicador deve ser informado quando a viagem estiver vinculada a conhecimento de carga que foi emitido há mais de um ano da data efetiva de partida da viagem (conhecimento não vigente). Caso este indicador não seja informado, o sistema vinculará a viagem aos conhecimentos de cargas vigentes no sistema.</p><table aria-describedby=\"data-emissao\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/ContendCode   </td>   <td>Informar a tag com conteúdo vazio: &quot;&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/Content   </td>   <td>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">Informar &quot;CARRIERDECLARATIONDATEAAAAMMDD&quot;:</p>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">Contém 30 caracteres, sendo:</p>    <ul>     <li>- 1º ao 22º caractere: CARRIERDECLARATIONDATE (texto fixo)</li>     <li>- 23º ao 30º caractere (AAAAMMDD): data de emissão do conhecimento que será associado</li>    </ul>   </td>   <td></td>  </tr>    <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/SubjectCode   </td>   <td>Informar &quot;WBI&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>FlightManifest/ArrivalEvent/AssociatedTransportCargo/IncludedMasterConsignment/IncludedCustomsNote/CountryID   </td>   <td>Informar &quot;BR&quot;</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"par-metros-de-entrada-\">Parâmetros de Entrada:</h3><table aria-describedby=\"par-metros-de-entrada-\"> <thead>  <tr>   <th>Nome</th>   <th>Descrição</th>   <th>Tipo</th>   <th>Local</th>   <th>Detalhes</th>  </tr> </thead> <tbody>  <tr>   <td>Arquivo de viagem aérea (XFFM)</td>   <td>Viagem com sua lista de conhecimentos</td>   <td>Arquivo XML <strong>obrigatório</strong></td>   <td>Body</td>   <td>Versão 2.00 da IATA - informado pelas Companhias Aéreas</td>   <td></td>  </tr>  <tr>   <td>CNPJ</td>   <td>CNPJ da Companhia Aérea</td>   <td>Numérico(14) <strong>obrigatório</strong></td>   <td>Query Param</td>   <td>CNPJ (formato 99999999999999)</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"resposta\">Resposta :</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os serviços de recebimento de arquivos terão o retorno de processamento por arquivo XFNM na versão 3.00, com as seguintes informações:</p><table aria-describedby=\"resposta\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Message Reference ID</td>   <td>MessageHeaderDocument / ID</td>   <td>Fixo &quot;BRCUSTOMS&quot;</td>  </tr>  <tr>   <td>Message Name</td>   <td>MessageHeaderDocument / Name</td>   <td>Fixo &quot;Response&quot;</td>  </tr>  <tr>   <td>Message Type</td>   <td>MessageHeaderDocument / TypeCode</td>   <td>Fixo &quot;294&quot;</td>  </tr>  <tr>   <td>Message Date / Time Stamp</td>   <td>MessageHeaderDocument / IssueDateTime</td>   <td>Data / hora de processamento do arquivo - UTC time</td>  </tr>  <tr>   <td>Message Function</td>   <td>MessageHeaderDocument / PurposeCode</td>   <td>Fixo &quot;Response&quot;</td>  </tr>  <tr>   <td>Message Version</td>   <td>MessageHeaderDocument / VersionID</td>   <td>Fixo &quot;3.0&quot;</td>  </tr>  <tr>   <td>Sender Qualifier</td>   <td>MessageHeaderDocument / SenderParty / schemeID</td>   <td>Fixo &quot;C&quot;</td>  </tr>  <tr>   <td>Sender Identification</td>   <td>MessageHeaderDocument / SenderParty / PrimaryID</td>   <td>Fixo &quot;BRCUSTOMS&quot;</td>  </tr>  <tr>   <td>Recipient Qualifier</td>   <td>MessageHeaderDocument / RecipientParty / schemeID</td>   <td>Valor do campo Sender Qualifier (tag MessageHeaderDocument / SenderParty / schemeID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com “O’ (letra O)</td>  </tr>  <tr>   <td>Recipient Identification</td>   <td>MessageHeaderDocument / RecipientParty / PrimaryID</td>   <td>Valor do campo Sender Identification (tag MessageHeaderDocument / SenderParty / PrimaryID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com &quot;NOT IDENTIFIED&quot;</td>  </tr>  <tr>   <td>Message Type</td>   <td>BusinessHeaderDocument / TypeCode</td>   <td>Valor do campo Message Type (tag MessageHeaderDocument / TypeCode) do arquivo original. Caso este campo    não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com 999.</td>  </tr>  <tr>   <td>Message Name</td>   <td>BusinessHeaderDocument / Name</td>   <td>Valor do campo Message Name (tag MessageHeaderDocument / Name) do arquivo original. Caso este campo não    seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com &quot;NOT    IDENTIFIED&quot;.</td>  </tr>  <tr>   <td>Original Document Identification</td>   <td>BusinessHeaderDocument / ID</td>   <td>Valor do campo Message Reference ID (tag MessageHeaderDocument / ID) do arquivo original. Caso este    campo não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com    &quot;NOT IDENTIFIED&quot;.</td>  </tr>  <tr>   <td>Response Type</td>   <td>BusinessHeaderDocument / StatusCode</td>   <td>“<em>Received</em>” , “<em>Rejected</em>” ou “<em>Processed</em>” – conforme processamento do arquivo.    Na versão atual, haverá resposta apenas nas situações “<em>Received</em>” (arquivo recebido e será    processado) ou “<em>Rejected</em>”(arquivo foi rejeitado)</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos que passarem pela validação do XSD (formato estabelecido pela IATA), receberão status “<em>Received</em>”, acompanhado do número de protocolo gerado para este arquivo. Este número de protocolo pode ser utilizado para verificar a situação de processamento do arquivo por meio dos serviços <em>“Consultar Situação de Arquivos por Período”</em> ou <em>“Consultar Situação de Arquivos por número de  Protocolo”</em>.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Já os arquivos que não passarem pela validação do XSD (formato estabelecido pela IATA) receberão status “<em>Rejected</em>”, acompanhado da lista de erros encontrados.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para arquivos com o campo Response Type igual a “<em>Received</em>\", haverá somente um registro do bloco de dados Response Status, conforme abaixo. O campo &quot;Text&quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.</p><span id=\"ip1\">&nbsp;</span><table aria-describedby=\"ip1\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Category</td>   <td>ResponseStatus / ConditionCode</td>   <td>Acknowledgement</td>  </tr>  <tr>   <td>Text</td>   <td>ResponseStatus / Reason</td>   <td>Número do protocolo de recebimento</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para arquivos com o campo Response Type igual a “<em>Rejected</em>”, cada ocorrência de erro conterá as seguintes informações no bloco de dados Response Status. O campo &quot;Text&quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.</p><span id=\"ip2\">&nbsp;</span><table aria-describedby=\"ip2\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Category</td>   <td>ResponseStatus / ConditionCode</td>   <td>Error</td>  </tr>  <tr>   <td>Text</td>   <td>ResponseStatus / Reason</td>   <td>Texto contendo a linha e coluna com erro, (informando Row:&#60;número da linha&#62; &#124;    Column:&#60;número da coluna&#62;) e a descrição do erro verificada.Tamanho do campo: 5000 posições. Ex:    &quot;Row:7&#124;Column:20&#124;Error: cvc-complex-type.2.4.a: Invalid content was found starting with    element &#39;{&quot;iata:datamodel:3&quot;:PurposeCode}&#39;. One of    &#39;{&quot;iata:datamodel:3&quot;:IssueDateTime}&#39; is expected.</td>  </tr> </tbody></table>", tags={ "Serviços de Envio de Arquivos" })
    @ApiResponses(value = { 
        @ApiResponse(code = 200, message = "Operação realizada com sucesso", response = String.class),
        @ApiResponse(code = 204, message = "Operação realizada com sucesso. Nenhum conteúdo retornado"),
        @ApiResponse(code = 400, message = "Requisição mal formatada"),
        @ApiResponse(code = 401, message = "Usuário não autenticado ou autenticação inválida"),
        @ApiResponse(code = 403, message = "Usuário não tem permissão de acesso ao recurso"),
        @ApiResponse(code = 404, message = "Recurso não encontrado"),
        @ApiResponse(code = 422, message = "Erro(s) de validação da camada de negócio"),
        @ApiResponse(code = 500, message = "Erro interno no servidor") })
    public Response doPostUsingPOST(@ApiParam(value = "" ,required=true)@Valid String body, @ApiParam(value = "JSON Web Token (JWT) contendo as informações do usuário. Este token é recuperado no parâmetro Set-Token no response da autenticação" ,required=true)@HeaderParam("Authorization") String authorization, @ApiParam(value = "Token de prevenção contra ataques CSRF. Este token é recuperado no parâmetro X-CSRF-Token no response da autenticação" ,required=true)@HeaderParam("X-CSRF-Token") String xCSRFToken,  @NotNull @ApiParam(value = "CNPJ da Companhia Aérea  Tamanho: 14  Formato: NNNNNNNNNNNNNN",required=true)  @QueryParam("cnpj") String cnpj);

    /**
     * Informar Associação Master e House - XFHL (House Manifest)
     *
     * &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Encaminhamento de arquivo XML para processamento da associação entre um conhecimento de carga AWB (Air Waybill) ou MAWB (Master Air Waybill) e conhecimento(s) de carga HAWB (House Air Waybill).Será permitida apenas uma mensagem XFHL por arquivo, contendo a operação Creation, Update ou Deletion, na versão 2.00, conforme o padrão estabelecido pela IATA.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os arquivos com operação Update ou Deletion serão processados caso exista um arquivo com a operação Creation recebido anteriormente com sucesso no sistema, contendo a mesma identificação do conhecimento de carga do MAWB/AWB e vigente.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para que um MAWB/AWB seja considerado associado aos seus HAWB, deve haver arquivo de associação MAWB/HAWB (XFHL) que referencie o MAWB (XFWB) e a respectiva lista de HAWB (XFZB) associados.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Um arquivo XFHL que está sendo enviado com a operação Creation pode ser encaminhado a qualquer momento, inclusive após a chegada da aeronave. Já um arquivo que tenha a operação Update (contanto que contenha a exclusão de alguma das associações) ou a operação Deletion somente será aceito até a primeira chegada da viagem no Brasil e caso a carga não esteja vinculada a um documento de saída. Nessas situações, as operações de retificação ou exclusão somente poderão ser realizadas por funcionalidade de tela (web) e pela RFB. Retificações somente para inclusão de associações são permitidas.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Todas as informações de data no arquivo devem ser encaminhadas contendo o fuso horário no padrão YYYY-MM-DD&#39;T&#39;HH:mm:ss:SSS(‘+’/’-’)ZZ:ZZ.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A informação do fuso horário de partida ou chegada da aeronave refere-se ao fuso horário local. A data de criação do arquivo deverá ser informada com o fuso do local onde foi criado.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;De acordo com a necessidade da Receita Federal do Brasil, algumas informações poderão ser registradas no bloco de dados \&quot;OtherCustomsInformations\&quot;, conforme apresentado a seguir:&lt;/p&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;indicador-conhecimento\&quot;&gt;Indicador de conhecimento de carga não IATA&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;OBS:&lt;/strong&gt; Caso seja informado um conhecimento de carga cuja identificação não esteja no padrão IATA, será obrigatório informar este indicador, caso contrário o arquivo será rejeitado.&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;indicador-conhecimento\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedCustomsNote/ContendCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;DI&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;NON-IATA&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;WBI&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;indicador-agente-carga\&quot;&gt;Identificação do Agente de Carga em cada HAWB (IncludedHouseConsignment) do XFHL&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;indicador-agente-carga\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContendCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;T&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;CNPJ&amp;#60;número do CNPJ com 8 dígitos&amp;#62;&amp;quot;:&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;AGT&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;data-emissao-awb\&quot;&gt;Data de emissão de conhecimento de carga ocorrência para o AWB/MAWB (MasterConsignment)&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;data-emissao-awb\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedCustomsNote/ContendCode&lt;/td&gt;   &lt;td&gt;Informar a tag com conteúdo vazio: &amp;quot;&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Informar &amp;quot;CARRIERDECLARATIONDATEAAAAMMDD&amp;quot;:&lt;/p&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Contém 30 caracteres, sendo:&lt;/p&gt;    &lt;ul&gt;     &lt;li&gt;- 1º ao 22º caractere: CARRIERDECLARATIONDATE (texto fixo)&lt;/li&gt;     &lt;li&gt;- 23º ao 30º caractere (AAAAMMDD): data de emissão do conhecimento que será associado&lt;/li&gt;    &lt;/ul&gt;   &lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;WBI&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;data-emissao-hawb\&quot;&gt;Data de emissão de conhecimento de carga ocorrência em cada HAWB (IncludedHouseConsignment)&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;OBS:&lt;/strong&gt; Este indicador deve ser informado quando o conhecimento de carga, seja o MAWB/AWB ou algum dos HAWB, foi emitido há mais de um ano da data efetiva de partida da viagem (conhecimento não vigente). Caso este indicador não seja informado, o sistema vinculará o MAWB/AWB vigente aos HAWB vigentes no sistema.&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;data-emissao-hawb\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContendCode&lt;/td&gt;   &lt;td&gt;Informar a tag com conteúdo vazio: &amp;quot;&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Informar &amp;quot;CARRIERDECLARATIONDATEAAAAMMDD&amp;quot;:&lt;/p&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Contém 30 caracteres, sendo:&lt;/p&gt;    &lt;ul&gt;     &lt;li&gt;- 1º ao 22º caractere: CARRIERDECLARATIONDATE (texto fixo)&lt;/li&gt;     &lt;li&gt;- 23º ao 30º caractere (AAAAMMDD): data de emissão do conhecimento que será associado&lt;/li&gt;    &lt;/ul&gt;   &lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;WBI&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;par-metros-de-entrada-\&quot;&gt;Parâmetros de Entrada:&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;par-metros-de-entrada-\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Nome&lt;/th&gt;   &lt;th&gt;Descrição&lt;/th&gt;   &lt;th&gt;Tipo&lt;/th&gt;   &lt;th&gt;Local&lt;/th&gt;   &lt;th&gt;Detalhes&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Arquivo de associação (XFHL)&lt;/td&gt;   &lt;td&gt;Associação entre &lt;em&gt;master&lt;/em&gt;(MAWB) e &lt;em&gt;house&lt;/em&gt;(HAWB)&lt;/td&gt;   &lt;td&gt;Arquivo XML &lt;strong&gt;obrigatório&lt;/strong&gt;&lt;/td&gt;   &lt;td&gt;Body&lt;/td&gt;   &lt;td&gt;Versão 2.00 da IATA - informado pelos Agentes de Carga ou pelo Operador de Remessa Postal / Expressa   &lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;CNPJ&lt;/td&gt;   &lt;td&gt;CNPJ do Agente de Carga ou do Operador de Remessa Postal / Expressa&lt;/td&gt;   &lt;td&gt;Numérico(14) &lt;strong&gt;obrigatório&lt;/strong&gt;&lt;/td&gt;   &lt;td&gt;Query Param&lt;/td&gt;   &lt;td&gt;CNPJ (formato 99999999999999)&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;resposta-\&quot;&gt;Resposta :&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os serviços de recebimento de arquivos terão o retorno de processamento por arquivo XFNM na versão 3.00, com as seguintes informações:&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;resposta\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Message Reference ID&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / ID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;BRCUSTOMS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Name&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / Name&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;Response&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Type&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / TypeCode&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;294&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Date / Time Stamp&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / IssueDateTime&lt;/td&gt;   &lt;td&gt;Data / hora de processamento do arquivo - UTC time&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Function&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / PurposeCode&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;Response&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Version&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / VersionID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;3.0&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Sender Qualifier&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / SenderParty / schemeID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;C&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Sender Identification&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / SenderParty / PrimaryID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;BRCUSTOMS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Recipient Qualifier&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / RecipientParty / schemeID&lt;/td&gt;   &lt;td&gt;Valor do campo Sender Qualifier (tag MessageHeaderDocument / SenderParty / schemeID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com “O” (letra O)&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Recipient Identification&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / RecipientParty / PrimaryID&lt;/td&gt;   &lt;td&gt;Valor do campo Sender Identification (tag MessageHeaderDocument / SenderParty / PrimaryID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com \&quot;NOT IDENTIFIED\&quot;.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Type&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / TypeCode&lt;/td&gt;   &lt;td&gt;Valor do campo Message Type (tag MessageHeaderDocument / TypeCode) do arquivo original. Caso este campo    não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com 999.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Name&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / Name&lt;/td&gt;   &lt;td&gt;Valor do campo Message Name (tag MessageHeaderDocument / Name) do arquivo original. Caso este campo não    seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com \&quot;NOT    IDENTIFIED\&quot;.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Original Document Identification&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / ID&lt;/td&gt;   &lt;td&gt;Valor do campo Message Reference ID (tag MessageHeaderDocument / ID) do arquivo original. Caso este    campo não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com    \&quot;NOT IDENTIFIED\&quot;.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Response Type&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / StatusCode&lt;/td&gt;   &lt;td&gt;“&lt;em&gt;Received&lt;/em&gt;” , “&lt;em&gt;Rejected&lt;/em&gt;” ou “&lt;em&gt;Processed&lt;/em&gt;” – conforme processamento do arquivo.    Na versão atual, haverá resposta apenas nas situações “&lt;em&gt;Received&lt;/em&gt;” (arquivo recebido e será    processado) ou “&lt;em&gt;Rejected&lt;/em&gt;”(arquivo foi rejeitado)&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os arquivos que passarem pela validação do XSD (formato estabelecido pela IATA), receberão status \&quot;Received\&quot;, acompanhado do número de protocolo gerado para este arquivo. Este número de protocolo pode ser utilizado para verificar a situação de processamento do arquivo por meio por meio dos serviços \&quot;Consultar Situação de Arquivos por Data\&quot; ou \&quot;Consultar Situação de Arquivos por número de Protocolo\&quot;.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Já os arquivos que não passarem pela validação do XSD (formato estabelecido pela IATA) receberão status “&lt;em&gt;Rejected&lt;/em&gt;”, acompanhado da lista de erros encontrados.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para arquivos com o campo Response Type igual a “&lt;em&gt;Received&lt;/em&gt;”, haverá somente um registro do bloco de dados Response Status, conforme abaixo. O campo &amp;quot;Text&amp;quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.&lt;/p&gt;&lt;span id&#x3D;\&quot;ip1\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;table aria-describedby&#x3D;\&quot;ip1\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Category&lt;/td&gt;   &lt;td&gt;ResponseStatus / ConditionCode&lt;/td&gt;   &lt;td&gt;Acknowledgement&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Text&lt;/td&gt;   &lt;td&gt;ResponseStatus / Reason&lt;/td&gt;   &lt;td&gt;Número do protocolo de recebimento&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para arquivos com o campo Response Type igual a “&lt;em&gt;Rejected&lt;/em&gt;”, cada ocorrência de erro conterá as seguintes informações no bloco de dados Response Status. O campo &amp;quot;Text&amp;quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.&lt;/p&gt;&lt;span id&#x3D;\&quot;ip2\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;table aria-describedby&#x3D;\&quot;ip2\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Category&lt;/td&gt;   &lt;td&gt;ResponseStatus / ConditionCode&lt;/td&gt;   &lt;td&gt;Error&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Text&lt;/td&gt;   &lt;td&gt;ResponseStatus / Reason&lt;/td&gt;   &lt;td&gt;Texto contendo a linha e coluna com erro, (informando Row:&amp;#60;número da linha&amp;#62; &amp;#124;    Column:&amp;#60;número da coluna&amp;#62;) e a descrição do erro verificado.Tamanho do campo: 5000 posições. Ex:    &amp;quot;Row:7&amp;#124;Column:20&amp;#124;Error: cvc-complex-type.2.4.a: Invalid content was found starting with    element &amp;#39;{&amp;quot;iata:datamodel:3&amp;quot;:PurposeCode}&amp;#39;. One of    &amp;#39;{&amp;quot;iata:datamodel:3&amp;quot;:IssueDateTime}&amp;#39; is expected.&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;
     *
     */
    @POST
    @Path("/api/ext/incoming/xfhl")
    @Consumes({ "application/xml" })
    @Produces({ "application/xml" })
    @ApiOperation(value = "Informar Associação Master e House - XFHL (House Manifest)", notes = "<p style=\"margin-bottom: 1em; margin-top: 1em;\">Encaminhamento de arquivo XML para processamento da associação entre um conhecimento de carga AWB (Air Waybill) ou MAWB (Master Air Waybill) e conhecimento(s) de carga HAWB (House Air Waybill).Será permitida apenas uma mensagem XFHL por arquivo, contendo a operação Creation, Update ou Deletion, na versão 2.00, conforme o padrão estabelecido pela IATA.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos com operação Update ou Deletion serão processados caso exista um arquivo com a operação Creation recebido anteriormente com sucesso no sistema, contendo a mesma identificação do conhecimento de carga do MAWB/AWB e vigente.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para que um MAWB/AWB seja considerado associado aos seus HAWB, deve haver arquivo de associação MAWB/HAWB (XFHL) que referencie o MAWB (XFWB) e a respectiva lista de HAWB (XFZB) associados.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Um arquivo XFHL que está sendo enviado com a operação Creation pode ser encaminhado a qualquer momento, inclusive após a chegada da aeronave. Já um arquivo que tenha a operação Update (contanto que contenha a exclusão de alguma das associações) ou a operação Deletion somente será aceito até a primeira chegada da viagem no Brasil e caso a carga não esteja vinculada a um documento de saída. Nessas situações, as operações de retificação ou exclusão somente poderão ser realizadas por funcionalidade de tela (web) e pela RFB. Retificações somente para inclusão de associações são permitidas.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Todas as informações de data no arquivo devem ser encaminhadas contendo o fuso horário no padrão YYYY-MM-DD'T'HH:mm:ss:SSS(‘+’/’-’)ZZ:ZZ.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A informação do fuso horário de partida ou chegada da aeronave refere-se ao fuso horário local. A data de criação do arquivo deverá ser informada com o fuso do local onde foi criado.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">De acordo com a necessidade da Receita Federal do Brasil, algumas informações poderão ser registradas no bloco de dados \"OtherCustomsInformations\", conforme apresentado a seguir:</p></br><h3 id=\"indicador-conhecimento\">Indicador de conhecimento de carga não IATA</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>OBS:</strong> Caso seja informado um conhecimento de carga cuja identificação não esteja no padrão IATA, será obrigatório informar este indicador, caso contrário o arquivo será rejeitado.</p><table aria-describedby=\"indicador-conhecimento\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>HouseManifest/MasterConsignment/IncludedCustomsNote/ContendCode</td>   <td>Informar &quot;DI&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>HouseManifest/MasterConsignment/IncludedCustomsNote/Content</td>   <td>Informar &quot;NON-IATA&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>HouseManifest/MasterConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;WBI&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>HouseManifest/MasterConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"indicador-agente-carga\">Identificação do Agente de Carga em cada HAWB (IncludedHouseConsignment) do XFHL</h3><table aria-describedby=\"indicador-agente-carga\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContendCode</td>   <td>Informar &quot;T&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content</td>   <td>Informar &quot;CNPJ&#60;número do CNPJ com 8 dígitos&#62;&quot;:</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;AGT&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"data-emissao-awb\">Data de emissão de conhecimento de carga ocorrência para o AWB/MAWB (MasterConsignment)</h3><table aria-describedby=\"data-emissao-awb\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>HouseManifest/MasterConsignment/IncludedCustomsNote/ContendCode</td>   <td>Informar a tag com conteúdo vazio: &quot;&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>HouseManifest/MasterConsignment/IncludedCustomsNote/Content</td>   <td>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">Informar &quot;CARRIERDECLARATIONDATEAAAAMMDD&quot;:</p>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">Contém 30 caracteres, sendo:</p>    <ul>     <li>- 1º ao 22º caractere: CARRIERDECLARATIONDATE (texto fixo)</li>     <li>- 23º ao 30º caractere (AAAAMMDD): data de emissão do conhecimento que será associado</li>    </ul>   </td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>HouseManifest/MasterConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;WBI&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>HouseManifest/MasterConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"data-emissao-hawb\">Data de emissão de conhecimento de carga ocorrência em cada HAWB (IncludedHouseConsignment)</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>OBS:</strong> Este indicador deve ser informado quando o conhecimento de carga, seja o MAWB/AWB ou algum dos HAWB, foi emitido há mais de um ano da data efetiva de partida da viagem (conhecimento não vigente). Caso este indicador não seja informado, o sistema vinculará o MAWB/AWB vigente aos HAWB vigentes no sistema.</p><table aria-describedby=\"data-emissao-hawb\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContendCode</td>   <td>Informar a tag com conteúdo vazio: &quot;&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content</td>   <td>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">Informar &quot;CARRIERDECLARATIONDATEAAAAMMDD&quot;:</p>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">Contém 30 caracteres, sendo:</p>    <ul>     <li>- 1º ao 22º caractere: CARRIERDECLARATIONDATE (texto fixo)</li>     <li>- 23º ao 30º caractere (AAAAMMDD): data de emissão do conhecimento que será associado</li>    </ul>   </td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;WBI&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>HouseManifest/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"par-metros-de-entrada-\">Parâmetros de Entrada:</h3><table aria-describedby=\"par-metros-de-entrada-\"> <thead>  <tr>   <th>Nome</th>   <th>Descrição</th>   <th>Tipo</th>   <th>Local</th>   <th>Detalhes</th>  </tr> </thead> <tbody>  <tr>   <td>Arquivo de associação (XFHL)</td>   <td>Associação entre <em>master</em>(MAWB) e <em>house</em>(HAWB)</td>   <td>Arquivo XML <strong>obrigatório</strong></td>   <td>Body</td>   <td>Versão 2.00 da IATA - informado pelos Agentes de Carga ou pelo Operador de Remessa Postal / Expressa   </td>   <td></td>  </tr>  <tr>   <td>CNPJ</td>   <td>CNPJ do Agente de Carga ou do Operador de Remessa Postal / Expressa</td>   <td>Numérico(14) <strong>obrigatório</strong></td>   <td>Query Param</td>   <td>CNPJ (formato 99999999999999)</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"resposta-\">Resposta :</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os serviços de recebimento de arquivos terão o retorno de processamento por arquivo XFNM na versão 3.00, com as seguintes informações:</p><table aria-describedby=\"resposta\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Message Reference ID</td>   <td>MessageHeaderDocument / ID</td>   <td>Fixo &quot;BRCUSTOMS&quot;</td>  </tr>  <tr>   <td>Message Name</td>   <td>MessageHeaderDocument / Name</td>   <td>Fixo &quot;Response&quot;</td>  </tr>  <tr>   <td>Message Type</td>   <td>MessageHeaderDocument / TypeCode</td>   <td>Fixo &quot;294&quot;</td>  </tr>  <tr>   <td>Message Date / Time Stamp</td>   <td>MessageHeaderDocument / IssueDateTime</td>   <td>Data / hora de processamento do arquivo - UTC time</td>  </tr>  <tr>   <td>Message Function</td>   <td>MessageHeaderDocument / PurposeCode</td>   <td>Fixo &quot;Response&quot;</td>  </tr>  <tr>   <td>Message Version</td>   <td>MessageHeaderDocument / VersionID</td>   <td>Fixo &quot;3.0&quot;</td>  </tr>  <tr>   <td>Sender Qualifier</td>   <td>MessageHeaderDocument / SenderParty / schemeID</td>   <td>Fixo &quot;C&quot;</td>  </tr>  <tr>   <td>Sender Identification</td>   <td>MessageHeaderDocument / SenderParty / PrimaryID</td>   <td>Fixo &quot;BRCUSTOMS&quot;</td>  </tr>  <tr>   <td>Recipient Qualifier</td>   <td>MessageHeaderDocument / RecipientParty / schemeID</td>   <td>Valor do campo Sender Qualifier (tag MessageHeaderDocument / SenderParty / schemeID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com “O” (letra O)</td>  </tr>  <tr>   <td>Recipient Identification</td>   <td>MessageHeaderDocument / RecipientParty / PrimaryID</td>   <td>Valor do campo Sender Identification (tag MessageHeaderDocument / SenderParty / PrimaryID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com \"NOT IDENTIFIED\".</td>  </tr>  <tr>   <td>Message Type</td>   <td>BusinessHeaderDocument / TypeCode</td>   <td>Valor do campo Message Type (tag MessageHeaderDocument / TypeCode) do arquivo original. Caso este campo    não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com 999.</td>  </tr>  <tr>   <td>Message Name</td>   <td>BusinessHeaderDocument / Name</td>   <td>Valor do campo Message Name (tag MessageHeaderDocument / Name) do arquivo original. Caso este campo não    seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com \"NOT    IDENTIFIED\".</td>  </tr>  <tr>   <td>Original Document Identification</td>   <td>BusinessHeaderDocument / ID</td>   <td>Valor do campo Message Reference ID (tag MessageHeaderDocument / ID) do arquivo original. Caso este    campo não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com    \"NOT IDENTIFIED\".</td>  </tr>  <tr>   <td>Response Type</td>   <td>BusinessHeaderDocument / StatusCode</td>   <td>“<em>Received</em>” , “<em>Rejected</em>” ou “<em>Processed</em>” – conforme processamento do arquivo.    Na versão atual, haverá resposta apenas nas situações “<em>Received</em>” (arquivo recebido e será    processado) ou “<em>Rejected</em>”(arquivo foi rejeitado)</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos que passarem pela validação do XSD (formato estabelecido pela IATA), receberão status \"Received\", acompanhado do número de protocolo gerado para este arquivo. Este número de protocolo pode ser utilizado para verificar a situação de processamento do arquivo por meio por meio dos serviços \"Consultar Situação de Arquivos por Data\" ou \"Consultar Situação de Arquivos por número de Protocolo\".</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Já os arquivos que não passarem pela validação do XSD (formato estabelecido pela IATA) receberão status “<em>Rejected</em>”, acompanhado da lista de erros encontrados.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para arquivos com o campo Response Type igual a “<em>Received</em>”, haverá somente um registro do bloco de dados Response Status, conforme abaixo. O campo &quot;Text&quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.</p><span id=\"ip1\">&nbsp;</span><table aria-describedby=\"ip1\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Category</td>   <td>ResponseStatus / ConditionCode</td>   <td>Acknowledgement</td>  </tr>  <tr>   <td>Text</td>   <td>ResponseStatus / Reason</td>   <td>Número do protocolo de recebimento</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para arquivos com o campo Response Type igual a “<em>Rejected</em>”, cada ocorrência de erro conterá as seguintes informações no bloco de dados Response Status. O campo &quot;Text&quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.</p><span id=\"ip2\">&nbsp;</span><table aria-describedby=\"ip2\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Category</td>   <td>ResponseStatus / ConditionCode</td>   <td>Error</td>  </tr>  <tr>   <td>Text</td>   <td>ResponseStatus / Reason</td>   <td>Texto contendo a linha e coluna com erro, (informando Row:&#60;número da linha&#62; &#124;    Column:&#60;número da coluna&#62;) e a descrição do erro verificado.Tamanho do campo: 5000 posições. Ex:    &quot;Row:7&#124;Column:20&#124;Error: cvc-complex-type.2.4.a: Invalid content was found starting with    element &#39;{&quot;iata:datamodel:3&quot;:PurposeCode}&#39;. One of    &#39;{&quot;iata:datamodel:3&quot;:IssueDateTime}&#39; is expected.</td>  </tr> </tbody></table>", tags={ "Serviços de Envio de Arquivos" })
    @ApiResponses(value = { 
        @ApiResponse(code = 200, message = "Operação realizada com sucesso", response = String.class),
        @ApiResponse(code = 204, message = "Operação realizada com sucesso. Nenhum conteúdo retornado"),
        @ApiResponse(code = 400, message = "Requisição mal formatada"),
        @ApiResponse(code = 401, message = "Usuário não autenticado ou autenticação inválida"),
        @ApiResponse(code = 403, message = "Usuário não tem permissão de acesso ao recurso"),
        @ApiResponse(code = 404, message = "Recurso não encontrado"),
        @ApiResponse(code = 422, message = "Erro(s) de validação da camada de negócio"),
        @ApiResponse(code = 500, message = "Erro interno no servidor") })
    public Response doPostUsingPOST1(@ApiParam(value = "" ,required=true)@Valid String body, @ApiParam(value = "JSON Web Token (JWT) contendo as informações do usuário. Este token é recuperado no parâmetro Set-Token no response da autenticação" ,required=true)@HeaderParam("Authorization") String authorization, @ApiParam(value = "Token de prevenção contra ataques CSRF. Este token é recuperado no parâmetro X-CSRF-Token no response da autenticação" ,required=true)@HeaderParam("X-CSRF-Token") String xCSRFToken,  @NotNull @ApiParam(value = "CNPJ do Agente de Carga ou do Operador de Remessa Postal / Expressa  Tamanho: 14  Formato: NNNNNNNNNNNNNN",required=true)  @QueryParam("cnpj") String cnpj);

    /**
     * Informar Conhecimento de Carga - XFWB (Freight Waybill)
     *
     * &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Encaminhamento de arquivo XML para processamento de conhecimentos de cargas do tipo &lt;strong&gt;AWB (Air Waybill)&lt;/strong&gt; ou &lt;strong&gt;MAWB (Master Air Waybill)&lt;/strong&gt;. Será permitida apenas uma mensagem &lt;strong&gt;XFWB&lt;/strong&gt; por arquivo, contendo a operação &lt;em&gt;Creation&lt;/em&gt;, &lt;em&gt;Update&lt;/em&gt; ou &lt;em&gt;Deletion&lt;/em&gt;, na versão 3.00, conforme o padrão estabelecido pela IATA..&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Um conhecimento de carga poderá ser informado de forma repetida contanto que não existam dois conhecimentos de carga vigentes ao mesmo tempo. Desta forma não pode haver repetição de um conhecimento de carga num período de 365 dias a partir da sua emissão.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os arquivos de operação &lt;em&gt;Update&lt;/em&gt; ou &lt;em&gt;Deletion&lt;/em&gt; serão processados caso exista um arquivo com a operação &lt;em&gt;Creation&lt;/em&gt; recebido anteriormente com sucesso no sistema, tendo a mesma identificação do &lt;strong&gt;AWB/MAWB (Waybill/BusinessHeaderDocument/ID)&lt;/strong&gt; e data de emissão.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A alteração de um &lt;strong&gt;AWB/MAWB&lt;/strong&gt; poderá ocorrer por serviço caso não tenha ocorrido entrega final ao importador, seja esta parcial ou total. Já a exclusão do &lt;strong&gt;AWB/MAWB&lt;/strong&gt; só poderá ocorrer até o momento da chegada da primeira parte ou do total da carga em um aeroporto brasileiro.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para que um &lt;strong&gt;AWB/MAWB&lt;/strong&gt; seja considerado como manifestado em uma viagem, o conhecimento de carga &lt;strong&gt;(XFWB)&lt;/strong&gt; deve ser referenciado no arquivo da viagem &lt;strong&gt;(XFFM)&lt;/strong&gt;. Para tal, a identificação do &lt;strong&gt;AWB/MAWB&lt;/strong&gt; deve ser igual em ambos os arquivos. Além disso, tanto o arquivo &lt;strong&gt;XFFM&lt;/strong&gt; quanto o arquivo &lt;strong&gt;XFWB&lt;/strong&gt; devem se encontrar na situação &lt;em&gt;Processed&lt;/em&gt;.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;O conhecimento de carga será vinculado à viagem de acordo com sua data de emissão, que deve ser menor ou igual à data de partida efetiva da viagem.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;O agrupamento de informações de mercadoria (Waybill/MasterConsignment/ApplicableRating) obrigatório é o agrupamento do tipo &amp;quot;F&amp;quot; (Waybill/MasterConsignment/ApplicableRating/TypeCode), que se refere ao valor de face.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;O agrupamento de informações de forma de pagamento do frete (Waybill/MasterConsignment/ApplicableTotalRating/ApplicablePrepaidCollectMonetarySummation/PrepaidIndicator) poderá ter no máximo duas ocorrências, sendo uma prepaid e a outra collect.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os conhecimentos de carga informados deverão ter código de classificação de mercadoria &lt;strong&gt;(NCM)&lt;/strong&gt; com 2, 4, 6 ou 8 posições em Waybill/MasterConsignment/ApplicableRating/IncludedMasterConsignmentItem/TypeCode. Esta tag poderá ser repetida caso seja desejado informar mais de um código NCM.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Todas as unidades de medida de peso deverão ser informadas como unidades de medida de massa.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Todos os códigos de aeroportos informados no sistema devem ser informados com 3 caracteres, não sendo aceito código UNLOCODE de 5 caracteres.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;De acordo com a necessidade da Receita Federal do Brasil, os campos abaixo são de informação obrigatória. Caso o arquivo não apresente as informações a seguir, ele será rejeitado em tempo de processamento.&lt;/p&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip1\&quot;&gt;&lt;strong&gt;Número Total de Volumes&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip1\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;WAYBILL SUMMARY/Total number of pieces&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/TotalPieceQuantity&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip2\&quot;&gt;&lt;strong&gt;Peso Bruto Total&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip2\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;WAYBILL SUMMARY/Total Gross Weight&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedTareGrossWeightMeasure&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip3\&quot;&gt;&lt;strong&gt;Peso Bruto Total - Unidade de Medida&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip3\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;WAYBILL SUMMARY/Total Gross Weight Unit of Measurement&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedTareGrossWeightMeasure (unit code)&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip4\&quot; &gt;&lt;strong&gt;Descrição das Mercadorias&lt;/strong&gt; - Deve ser informado ao menos uma vez por arquivo&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip4\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;WAYBILL BODY / Rating Type / Rating Type Indicator / Item Details / Item Description&lt;/td&gt;   &lt;td&gt;Waybill / MasterConsignment / ApplicableRating / IncludedMasterConsignmentItem /    NatureIdentificationTransportCargo / Identification&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip5\&quot;&gt;&lt;strong&gt;Valor Total do Frete&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip5\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;WAYBILL SUMMARY / Waybill Totals / Rating Type Indicator / Prepaid / Collect Indicator / Total Charge    Summary&lt;/td&gt;   &lt;td&gt;Waybill / MasterConsignment / ApplicableTotalRating / ApplicablePrepaidCollectMonetarySummation /    GrandTotalAmount&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip6\&quot; &gt;&lt;strong&gt;Forma de Pagamento do Frete (Prepaid, Collect)&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip6\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;WAYBILL SUMMARY / Waybill Totals / Rating Type Indicator / Prepaid / Collect Indicator&lt;/td&gt;   &lt;td&gt;Waybill / MasterConsignment / ApplicableTotalRating / ApplicablePrepaidCollectMonetarySummation /    PrepaidIndicator&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Caso o tipo de conhecimento de carga seja &lt;strong&gt;MAWB&lt;/strong&gt;, as informações de pagamento do frete e valor do frete não serão obrigatórias. Desta forma, o valor do frete para o MAWB pode ser zero.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A informação de identificação do consignatário não é obrigatória. Porém, caso a mesma não tenha sido informada no, &lt;strong&gt;AWB&lt;/strong&gt; até o momento da chegada da viagem, o sistema realizará um bloqueio automático na carga. Para &lt;strong&gt;MAWB&lt;/strong&gt;, não haverá bloqueio pela falta de informação da identificação do consignatário.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;De acordo com a necessidade da Receita Federal do Brasil, existem informações que poderão ser registradas no bloco de dados &amp;quot;Other Customs Informations&amp;quot;, não sendo obrigatórias nas versões iniciais.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;São elas:&lt;/p&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;indicador-conhecimento\&quot;&gt;Indicador de conhecimento de carga não IATA&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;OBS:&lt;/strong&gt;Caso seja informado um AWB ou MAWB cuja identificação não siga o padrão IATA, é obrigatório informar este indicador. Caso contrário, o arquivo será rejeitado.&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;indicador-conhecimento\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/ContendCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;DI&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;NON-IATA&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;WBI&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip7\&quot;&gt;&lt;strong&gt;Indicador de Presença de Partes e Peças de Madeira  Maciça&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip7\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/ContentCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;DI&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;WOOD PARTS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;OCI&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip8\&quot; &gt;&lt;strong&gt;Indicador de Não Recepção dos HAWB Associados&lt;/strong&gt;&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Obs:&lt;/strong&gt;Esta informação somente deve ser prestada caso o transportador responsável não queira a desunitização da carga (não permitindo a recepção por HAWB). Caso esta informação não seja enviada, a carga poderá ser desunitizada.&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;ip8\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/ContentCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;DI&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;DO NOT BREAK DOWN&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;HDL&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;  &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip9\&quot; &gt;&lt;strong&gt;Identificação do Consignatário&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip9\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/ContentCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;T&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;- Se for um CPF informar &amp;quot;CPF&amp;#60;número do CPF com     11 dígitos&amp;#62;&amp;quot; . Ex: CPF12345678901&lt;/p&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;- Se for um CNPJ informar &amp;quot;CNPJ&amp;#60;número do CNPJ     com 8 ou 14 dígitos&amp;#62;&amp;quot;. Ex:CNPJ12345678901234&lt;/p&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;- Se for um Passaporte informar     &amp;quot;PASSPORT&amp;#60;número do passaporte com até 25 posições&amp;#62;. Ex:PASSPORTC12345678.&lt;/p&gt;   &lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;CNE&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information /Country code&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;  &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip10\&quot; &gt;&lt;strong&gt;RUC (Referência Única da Carga) / UCR (Unique  Consignment Reference)&lt;/strong&gt;&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Obs:&lt;/strong&gt;Caso a informação da RUC não seja encaminhada no arquivo, o sistema gerará automaticamente um número RUC para a carga. Se a RUC for informada, deverá atender à recomendação da Organização Mundial de Aduanas (OMA) para a Unique Consignment Reference (UCR).&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;ip10\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/ContentCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;U&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar UCR&amp;#60;número da RUC com até 32 posições&amp;#62;. Ex: UCR8BR167017161001713D0000000000004021&lt;/td&gt;  &lt;/tr&gt;    &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;IMP&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip11\&quot; &gt;&lt;strong&gt;Código do Recinto Aduaneiro de Destino da  Carga&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip11\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/ContentCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;M&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;CUSTOMSWAREHOUSE&amp;#60;número do Código do Recinto Aduaneiro de Destino da Carga com 7    dígitos&amp;#62;&amp;quot;. Ex:CUSTOMSWAREHOUSE1234567&lt;/td&gt;  &lt;/tr&gt;    &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;CCL&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;Waybill/MasterConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Todas as informações de data no arquivo devem ser encaminhadas com o fuso horário no padrão &lt;strong&gt;“YYYY-MM-DD&amp;#39;T&amp;#39;HH:mm:ss:SSS(‘+’/’-’)ZZ:ZZ”&lt;/strong&gt;.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A informação do fuso horário de partida ou chegada da aeronave refere-se ao fuso horário local. A data de criação do arquivo deverá ser informada com o fuso do local onde foi criado.&lt;/p&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;par-metros-de-entrada-\&quot;&gt;Parâmetros de Entrada:&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;par-metros-de-entrada-\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Nome&lt;/th&gt;   &lt;th&gt;Descrição&lt;/th&gt;   &lt;th&gt;Tipo&lt;/th&gt;   &lt;th&gt;Local&lt;/th&gt;   &lt;th&gt;Detalhes&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Arquivo de conhecimento de carga (XFWB)&lt;/td&gt;   &lt;td&gt;Conhecimentos de carga(AWB e MAWB)&lt;/td&gt;   &lt;td&gt;Arquivo XML &lt;strong&gt;obrigatório&lt;/strong&gt;&lt;/td&gt;   &lt;td&gt;Body&lt;/td&gt;   &lt;td&gt;Versão 3.00 da IATA - informado pelas Companhias Aéreas&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;CNPJ&lt;/td&gt;   &lt;td&gt;CNPJ da Companhia Aérea&lt;/td&gt;   &lt;td&gt;Numérico(14) &lt;strong&gt;obrigatório&lt;/strong&gt;&lt;/td&gt;   &lt;td&gt;Query Param&lt;/td&gt;   &lt;td&gt;CNPJ (formato 99999999999999)&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;resposta-\&quot;&gt;Resposta :&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os serviços de recebimento de arquivos terão o retorno de processamento por arquivo XFNM na versão 3.00, com as seguintes informações:&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;resposta\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Message Reference ID&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / ID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;BRCUSTOMS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Name&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / Name&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;Response&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Type&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / TypeCode&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;294&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Date / Time Stamp&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / IssueDateTime&lt;/td&gt;   &lt;td&gt;Data / hora de processamento do arquivo - UTC time&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Function&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / PurposeCode&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;Response&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Version&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / VersionID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;3.0&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Sender Qualifier&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / SenderParty / schemeID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;C&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Sender Identification&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / SenderParty / PrimaryID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;BRCUSTOMS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Recipient Qualifier&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / RecipientParty / schemeID&lt;/td&gt;   &lt;td&gt;Valor do campo Sender Qualifier (tag MessageHeaderDocument / SenderParty / schemeID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com “O’ (letra O)&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Recipient Identification&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / RecipientParty / PrimaryID&lt;/td&gt;   &lt;td&gt;Valor do campo Sender Identification (tag MessageHeaderDocument / SenderParty / PrimaryID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com &amp;quot;NOT IDENTIFIED&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Type&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / TypeCode&lt;/td&gt;   &lt;td&gt;Valor do campo Message Type (tag MessageHeaderDocument / TypeCode) do arquivo original. Caso este campo    não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com 999.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Name&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / Name&lt;/td&gt;   &lt;td&gt;Valor do campo Message Name (tag MessageHeaderDocument / Name) do arquivo original. Caso este campo não    seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com &amp;quot;NOT    IDENTIFIED&amp;quot;.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Original Document Identification&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / ID&lt;/td&gt;   &lt;td&gt;Valor do campo Message Reference ID (tag MessageHeaderDocument / ID) do arquivo original. Caso este    campo não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com    &amp;quot;NOT IDENTIFIED&amp;quot;.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Response Type&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / StatusCode&lt;/td&gt;   &lt;td&gt;“&lt;em&gt;Received&lt;/em&gt;” , “&lt;em&gt;Rejected&lt;/em&gt;” ou “&lt;em&gt;Processed&lt;/em&gt;” – conforme processamento do arquivo.    Na versão atual, haverá resposta apenas nas situações “&lt;em&gt;Received&lt;/em&gt;” (arquivo recebido e será    processado) ou “&lt;em&gt;Rejected&lt;/em&gt;”(arquivo foi rejeitado)&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os arquivos que passarem pela validação do XSD (formato estabelecido pela IATA), receberão status &amp;quot;&lt;em&gt;Received&lt;/em&gt;&amp;quot;, acompanhado do número de protocolo gerado para este arquivo. Este número de protocolo pode ser utilizado para verificar a situação de processamento do arquivo por meio dos serviços &amp;quot;Consultar Situação de Arquivos por Data&amp;quot; ou &amp;quot;Consultar Situação de Arquivos por número de Protocolo&amp;quot;.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Já os arquivos que não passarem pela validação do XSD (formato estabelecido pela IATA) receberão status &amp;quot;&lt;em&gt;Rejected&lt;/em&gt;&amp;quot;, acompanhado da lista de erros encontrados.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para arquivos com o campo Response Type igual a &amp;quot;&lt;em&gt;Received&lt;/em&gt;&amp;quot;, haverá somente um registro do bloco de dados Response Status, conforme abaixo. O campo &amp;quot;Text&amp;quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.&lt;/p&gt;&lt;span id&#x3D;\&quot;ip12\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;table aria-describedby&#x3D;\&quot;ip12\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Category ResponseStatus / ConditionCode&lt;/td&gt;   &lt;td&gt;Acknowledgement&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Text&lt;/td&gt;   &lt;td&gt;ResponseStatus / Reason&lt;/td&gt;   &lt;td&gt;Número do protocolo de recebimento&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para arquivos com o campo Response Type igual a “&lt;em&gt;Rejected&lt;/em&gt;”, cada ocorrência de erro conterá as seguintes informações no bloco de dados Response Status. O campo &amp;quot;Text&amp;quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.&lt;/p&gt;&lt;span id&#x3D;\&quot;ip13\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;table aria-describedby&#x3D;\&quot;ip13\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Category&lt;/td&gt;   &lt;td&gt;ResponseStatus / ConditionCode&lt;/td&gt;   &lt;td&gt;Error&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Text&lt;/td&gt;   &lt;td&gt;ResponseStatus / Reason&lt;/td&gt;   &lt;td&gt;Texto contendo a linha e coluna com erro, (informando Row:&amp;#60;número da linha&amp;#62; &amp;#124;    Column:&amp;#60;número da coluna&amp;#62;) e a descrição do erro verificado.Tamanho do campo: 5000 posições. Ex:    &amp;quot;Row:7&amp;#124;Column:20&amp;#124;Error: cvc-complex-type.2.4.a: Invalid content was found starting with    element &amp;#39;{&amp;quot;iata:datamodel:3&amp;quot;:PurposeCode}&amp;#39;. One of    &amp;#39;{&amp;quot;iata:datamodel:3&amp;quot;:IssueDateTime}&amp;#39; is expected.&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;
     *
     */
    @POST
    @Path("/api/ext/incoming/xfwb")
    @Consumes({ "application/xml" })
    @Produces({ "application/xml" })
    @ApiOperation(value = "Informar Conhecimento de Carga - XFWB (Freight Waybill)", notes = "<p style=\"margin-bottom: 1em; margin-top: 1em;\">Encaminhamento de arquivo XML para processamento de conhecimentos de cargas do tipo <strong>AWB (Air Waybill)</strong> ou <strong>MAWB (Master Air Waybill)</strong>. Será permitida apenas uma mensagem <strong>XFWB</strong> por arquivo, contendo a operação <em>Creation</em>, <em>Update</em> ou <em>Deletion</em>, na versão 3.00, conforme o padrão estabelecido pela IATA..<p style=\"margin-bottom: 1em; margin-top: 1em;\">Um conhecimento de carga poderá ser informado de forma repetida contanto que não existam dois conhecimentos de carga vigentes ao mesmo tempo. Desta forma não pode haver repetição de um conhecimento de carga num período de 365 dias a partir da sua emissão.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos de operação <em>Update</em> ou <em>Deletion</em> serão processados caso exista um arquivo com a operação <em>Creation</em> recebido anteriormente com sucesso no sistema, tendo a mesma identificação do <strong>AWB/MAWB (Waybill/BusinessHeaderDocument/ID)</strong> e data de emissão.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A alteração de um <strong>AWB/MAWB</strong> poderá ocorrer por serviço caso não tenha ocorrido entrega final ao importador, seja esta parcial ou total. Já a exclusão do <strong>AWB/MAWB</strong> só poderá ocorrer até o momento da chegada da primeira parte ou do total da carga em um aeroporto brasileiro.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para que um <strong>AWB/MAWB</strong> seja considerado como manifestado em uma viagem, o conhecimento de carga <strong>(XFWB)</strong> deve ser referenciado no arquivo da viagem <strong>(XFFM)</strong>. Para tal, a identificação do <strong>AWB/MAWB</strong> deve ser igual em ambos os arquivos. Além disso, tanto o arquivo <strong>XFFM</strong> quanto o arquivo <strong>XFWB</strong> devem se encontrar na situação <em>Processed</em>.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">O conhecimento de carga será vinculado à viagem de acordo com sua data de emissão, que deve ser menor ou igual à data de partida efetiva da viagem.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">O agrupamento de informações de mercadoria (Waybill/MasterConsignment/ApplicableRating) obrigatório é o agrupamento do tipo &quot;F&quot; (Waybill/MasterConsignment/ApplicableRating/TypeCode), que se refere ao valor de face.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">O agrupamento de informações de forma de pagamento do frete (Waybill/MasterConsignment/ApplicableTotalRating/ApplicablePrepaidCollectMonetarySummation/PrepaidIndicator) poderá ter no máximo duas ocorrências, sendo uma prepaid e a outra collect.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os conhecimentos de carga informados deverão ter código de classificação de mercadoria <strong>(NCM)</strong> com 2, 4, 6 ou 8 posições em Waybill/MasterConsignment/ApplicableRating/IncludedMasterConsignmentItem/TypeCode. Esta tag poderá ser repetida caso seja desejado informar mais de um código NCM.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Todas as unidades de medida de peso deverão ser informadas como unidades de medida de massa.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Todos os códigos de aeroportos informados no sistema devem ser informados com 3 caracteres, não sendo aceito código UNLOCODE de 5 caracteres.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">De acordo com a necessidade da Receita Federal do Brasil, os campos abaixo são de informação obrigatória. Caso o arquivo não apresente as informações a seguir, ele será rejeitado em tempo de processamento.</p></br><h3 id=\"ip1\"><strong>Número Total de Volumes</strong></h3><table aria-describedby=\"ip1\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>WAYBILL SUMMARY/Total number of pieces</td>   <td>Waybill/MasterConsignment/TotalPieceQuantity</td>  </tr> </tbody></table></br><h3 id=\"ip2\"><strong>Peso Bruto Total</strong></h3><table aria-describedby=\"ip2\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>WAYBILL SUMMARY/Total Gross Weight</td>   <td>Waybill/MasterConsignment/IncludedTareGrossWeightMeasure</td>  </tr> </tbody></table></br><h3 id=\"ip3\"><strong>Peso Bruto Total - Unidade de Medida</strong></h3><table aria-describedby=\"ip3\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>WAYBILL SUMMARY/Total Gross Weight Unit of Measurement</td>   <td>Waybill/MasterConsignment/IncludedTareGrossWeightMeasure (unit code)</td>  </tr> </tbody></table></br><h3 id=\"ip4\" ><strong>Descrição das Mercadorias</strong> - Deve ser informado ao menos uma vez por arquivo</h3><table aria-describedby=\"ip4\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>WAYBILL BODY / Rating Type / Rating Type Indicator / Item Details / Item Description</td>   <td>Waybill / MasterConsignment / ApplicableRating / IncludedMasterConsignmentItem /    NatureIdentificationTransportCargo / Identification</td>  </tr> </tbody></table></br><h3 id=\"ip5\"><strong>Valor Total do Frete</strong></h3><table aria-describedby=\"ip5\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>WAYBILL SUMMARY / Waybill Totals / Rating Type Indicator / Prepaid / Collect Indicator / Total Charge    Summary</td>   <td>Waybill / MasterConsignment / ApplicableTotalRating / ApplicablePrepaidCollectMonetarySummation /    GrandTotalAmount</td>  </tr> </tbody></table></br><h3 id=\"ip6\" ><strong>Forma de Pagamento do Frete (Prepaid, Collect)</strong></h3><table aria-describedby=\"ip6\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>WAYBILL SUMMARY / Waybill Totals / Rating Type Indicator / Prepaid / Collect Indicator</td>   <td>Waybill / MasterConsignment / ApplicableTotalRating / ApplicablePrepaidCollectMonetarySummation /    PrepaidIndicator</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Caso o tipo de conhecimento de carga seja <strong>MAWB</strong>, as informações de pagamento do frete e valor do frete não serão obrigatórias. Desta forma, o valor do frete para o MAWB pode ser zero.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A informação de identificação do consignatário não é obrigatória. Porém, caso a mesma não tenha sido informada no, <strong>AWB</strong> até o momento da chegada da viagem, o sistema realizará um bloqueio automático na carga. Para <strong>MAWB</strong>, não haverá bloqueio pela falta de informação da identificação do consignatário.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">De acordo com a necessidade da Receita Federal do Brasil, existem informações que poderão ser registradas no bloco de dados &quot;Other Customs Informations&quot;, não sendo obrigatórias nas versões iniciais.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">São elas:</p></br><h3 id=\"indicador-conhecimento\">Indicador de conhecimento de carga não IATA</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>OBS:</strong>Caso seja informado um AWB ou MAWB cuja identificação não siga o padrão IATA, é obrigatório informar este indicador. Caso contrário, o arquivo será rejeitado.</p><table aria-describedby=\"indicador-conhecimento\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/ContendCode</td>   <td>Informar &quot;DI&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/Content</td>   <td>Informar &quot;NON-IATA&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;WBI&quot;</td>   <td></td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"ip7\"><strong>Indicador de Presença de Partes e Peças de Madeira  Maciça</strong></h3><table aria-describedby=\"ip7\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/ContentCode</td>   <td>Informar &quot;DI&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/Content</td>   <td>Informar &quot;WOOD PARTS&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;OCI&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>  </tr> </tbody></table></br><h3 id=\"ip8\" ><strong>Indicador de Não Recepção dos HAWB Associados</strong></h3><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Obs:</strong>Esta informação somente deve ser prestada caso o transportador responsável não queira a desunitização da carga (não permitindo a recepção por HAWB). Caso esta informação não seja enviada, a carga poderá ser desunitizada.</p><table aria-describedby=\"ip8\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/ContentCode</td>   <td>Informar &quot;DI&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/Content</td>   <td>Informar &quot;DO NOT BREAK DOWN&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;HDL&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>  </tr>   </tbody></table></br><h3 id=\"ip9\" ><strong>Identificação do Consignatário</strong></h3><table aria-describedby=\"ip9\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/ContentCode</td>   <td>Informar &quot;T&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/Content</td>   <td>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">- Se for um CPF informar &quot;CPF&#60;número do CPF com     11 dígitos&#62;&quot; . Ex: CPF12345678901</p>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">- Se for um CNPJ informar &quot;CNPJ&#60;número do CNPJ     com 8 ou 14 dígitos&#62;&quot;. Ex:CNPJ12345678901234</p>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">- Se for um Passaporte informar     &quot;PASSPORT&#60;número do passaporte com até 25 posições&#62;. Ex:PASSPORTC12345678.</p>   </td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;CNE&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information /Country code</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>  </tr>   </tbody></table></br><h3 id=\"ip10\" ><strong>RUC (Referência Única da Carga) / UCR (Unique  Consignment Reference)</strong></h3><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Obs:</strong>Caso a informação da RUC não seja encaminhada no arquivo, o sistema gerará automaticamente um número RUC para a carga. Se a RUC for informada, deverá atender à recomendação da Organização Mundial de Aduanas (OMA) para a Unique Consignment Reference (UCR).</p><table aria-describedby=\"ip10\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/ContentCode</td>   <td>Informar &quot;U&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/Content</td>   <td>Informar UCR&#60;número da RUC com até 32 posições&#62;. Ex: UCR8BR167017161001713D0000000000004021</td>  </tr>    <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;IMP&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>  </tr> </tbody></table></br><h3 id=\"ip11\" ><strong>Código do Recinto Aduaneiro de Destino da  Carga</strong></h3><table aria-describedby=\"ip11\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/ContentCode</td>   <td>Informar &quot;M&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/Content</td>   <td>Informar &quot;CUSTOMSWAREHOUSE&#60;número do Código do Recinto Aduaneiro de Destino da Carga com 7    dígitos&#62;&quot;. Ex:CUSTOMSWAREHOUSE1234567</td>  </tr>    <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;CCL&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>Waybill/MasterConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Todas as informações de data no arquivo devem ser encaminhadas com o fuso horário no padrão <strong>“YYYY-MM-DD&#39;T&#39;HH:mm:ss:SSS(‘+’/’-’)ZZ:ZZ”</strong>.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A informação do fuso horário de partida ou chegada da aeronave refere-se ao fuso horário local. A data de criação do arquivo deverá ser informada com o fuso do local onde foi criado.</p></br><h3 id=\"par-metros-de-entrada-\">Parâmetros de Entrada:</h3><table aria-describedby=\"par-metros-de-entrada-\"> <thead>  <tr>   <th>Nome</th>   <th>Descrição</th>   <th>Tipo</th>   <th>Local</th>   <th>Detalhes</th>  </tr> </thead> <tbody>  <tr>   <td>Arquivo de conhecimento de carga (XFWB)</td>   <td>Conhecimentos de carga(AWB e MAWB)</td>   <td>Arquivo XML <strong>obrigatório</strong></td>   <td>Body</td>   <td>Versão 3.00 da IATA - informado pelas Companhias Aéreas</td>   <td></td>  </tr>  <tr>   <td>CNPJ</td>   <td>CNPJ da Companhia Aérea</td>   <td>Numérico(14) <strong>obrigatório</strong></td>   <td>Query Param</td>   <td>CNPJ (formato 99999999999999)</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"resposta-\">Resposta :</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os serviços de recebimento de arquivos terão o retorno de processamento por arquivo XFNM na versão 3.00, com as seguintes informações:</p><table aria-describedby=\"resposta\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Message Reference ID</td>   <td>MessageHeaderDocument / ID</td>   <td>Fixo &quot;BRCUSTOMS&quot;</td>  </tr>  <tr>   <td>Message Name</td>   <td>MessageHeaderDocument / Name</td>   <td>Fixo &quot;Response&quot;</td>  </tr>  <tr>   <td>Message Type</td>   <td>MessageHeaderDocument / TypeCode</td>   <td>Fixo &quot;294&quot;</td>  </tr>  <tr>   <td>Message Date / Time Stamp</td>   <td>MessageHeaderDocument / IssueDateTime</td>   <td>Data / hora de processamento do arquivo - UTC time</td>  </tr>  <tr>   <td>Message Function</td>   <td>MessageHeaderDocument / PurposeCode</td>   <td>Fixo &quot;Response&quot;</td>  </tr>  <tr>   <td>Message Version</td>   <td>MessageHeaderDocument / VersionID</td>   <td>Fixo &quot;3.0&quot;</td>  </tr>  <tr>   <td>Sender Qualifier</td>   <td>MessageHeaderDocument / SenderParty / schemeID</td>   <td>Fixo &quot;C&quot;</td>  </tr>  <tr>   <td>Sender Identification</td>   <td>MessageHeaderDocument / SenderParty / PrimaryID</td>   <td>Fixo &quot;BRCUSTOMS&quot;</td>  </tr>  <tr>   <td>Recipient Qualifier</td>   <td>MessageHeaderDocument / RecipientParty / schemeID</td>   <td>Valor do campo Sender Qualifier (tag MessageHeaderDocument / SenderParty / schemeID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com “O’ (letra O)</td>  </tr>  <tr>   <td>Recipient Identification</td>   <td>MessageHeaderDocument / RecipientParty / PrimaryID</td>   <td>Valor do campo Sender Identification (tag MessageHeaderDocument / SenderParty / PrimaryID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com &quot;NOT IDENTIFIED&quot;</td>  </tr>  <tr>   <td>Message Type</td>   <td>BusinessHeaderDocument / TypeCode</td>   <td>Valor do campo Message Type (tag MessageHeaderDocument / TypeCode) do arquivo original. Caso este campo    não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com 999.</td>  </tr>  <tr>   <td>Message Name</td>   <td>BusinessHeaderDocument / Name</td>   <td>Valor do campo Message Name (tag MessageHeaderDocument / Name) do arquivo original. Caso este campo não    seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com &quot;NOT    IDENTIFIED&quot;.</td>  </tr>  <tr>   <td>Original Document Identification</td>   <td>BusinessHeaderDocument / ID</td>   <td>Valor do campo Message Reference ID (tag MessageHeaderDocument / ID) do arquivo original. Caso este    campo não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com    &quot;NOT IDENTIFIED&quot;.</td>  </tr>  <tr>   <td>Response Type</td>   <td>BusinessHeaderDocument / StatusCode</td>   <td>“<em>Received</em>” , “<em>Rejected</em>” ou “<em>Processed</em>” – conforme processamento do arquivo.    Na versão atual, haverá resposta apenas nas situações “<em>Received</em>” (arquivo recebido e será    processado) ou “<em>Rejected</em>”(arquivo foi rejeitado)</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos que passarem pela validação do XSD (formato estabelecido pela IATA), receberão status &quot;<em>Received</em>&quot;, acompanhado do número de protocolo gerado para este arquivo. Este número de protocolo pode ser utilizado para verificar a situação de processamento do arquivo por meio dos serviços &quot;Consultar Situação de Arquivos por Data&quot; ou &quot;Consultar Situação de Arquivos por número de Protocolo&quot;.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Já os arquivos que não passarem pela validação do XSD (formato estabelecido pela IATA) receberão status &quot;<em>Rejected</em>&quot;, acompanhado da lista de erros encontrados.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para arquivos com o campo Response Type igual a &quot;<em>Received</em>&quot;, haverá somente um registro do bloco de dados Response Status, conforme abaixo. O campo &quot;Text&quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.</p><span id=\"ip12\">&nbsp;</span><table aria-describedby=\"ip12\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Category ResponseStatus / ConditionCode</td>   <td>Acknowledgement</td>  </tr>  <tr>   <td>Text</td>   <td>ResponseStatus / Reason</td>   <td>Número do protocolo de recebimento</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para arquivos com o campo Response Type igual a “<em>Rejected</em>”, cada ocorrência de erro conterá as seguintes informações no bloco de dados Response Status. O campo &quot;Text&quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.</p><span id=\"ip13\">&nbsp;</span><table aria-describedby=\"ip13\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Category</td>   <td>ResponseStatus / ConditionCode</td>   <td>Error</td>  </tr>  <tr>   <td>Text</td>   <td>ResponseStatus / Reason</td>   <td>Texto contendo a linha e coluna com erro, (informando Row:&#60;número da linha&#62; &#124;    Column:&#60;número da coluna&#62;) e a descrição do erro verificado.Tamanho do campo: 5000 posições. Ex:    &quot;Row:7&#124;Column:20&#124;Error: cvc-complex-type.2.4.a: Invalid content was found starting with    element &#39;{&quot;iata:datamodel:3&quot;:PurposeCode}&#39;. One of    &#39;{&quot;iata:datamodel:3&quot;:IssueDateTime}&#39; is expected.</td>  </tr> </tbody></table>", tags={ "Serviços de Envio de Arquivos" })
    @ApiResponses(value = { 
        @ApiResponse(code = 200, message = "Operação realizada com sucesso", response = String.class),
        @ApiResponse(code = 204, message = "Operação realizada com sucesso. Nenhum conteúdo retornado"),
        @ApiResponse(code = 400, message = "Requisição mal formatada"),
        @ApiResponse(code = 401, message = "Usuário não autenticado ou autenticação inválida"),
        @ApiResponse(code = 403, message = "Usuário não tem permissão de acesso ao recurso"),
        @ApiResponse(code = 404, message = "Recurso não encontrado"),
        @ApiResponse(code = 422, message = "Erro(s) de validação da camada de negócio"),
        @ApiResponse(code = 500, message = "Erro interno no servidor") })
    public Response doPostUsingPOST2(@ApiParam(value = "" ,required=true)@Valid String body, @ApiParam(value = "JSON Web Token (JWT) contendo as informações do usuário. Este token é recuperado no parâmetro Set-Token no response da autenticação" ,required=true)@HeaderParam("Authorization") String authorization, @ApiParam(value = "Token de prevenção contra ataques CSRF. Este token é recuperado no parâmetro X-CSRF-Token no response da autenticação" ,required=true)@HeaderParam("X-CSRF-Token") String xCSRFToken,  @NotNull @ApiParam(value = "CNPJ da Companhia Aérea  Tamanho: 14  Formato: NNNNNNNNNNNNNN",required=true)  @QueryParam("cnpj") String cnpj);

    /**
     * Informar Conhecimento de Carga House - XFZB (House Air Waybill)
     *
     * &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Encaminhamento de arquivo XML para processamento de conhecimentos de cargas house (HAWB - &lt;em&gt;House Air Waybill&lt;/em&gt;). Será permitida apenas uma mensagem XFZB por arquivo, contendo a operação de &lt;em&gt;Creation&lt;/em&gt;, &lt;em&gt;Update&lt;/em&gt; ou &lt;em&gt;Deletion&lt;/em&gt;, conforme o padrão IATA.&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os arquivos de operação Update ou Deletion serão processados, caso exista um arquivo de Creation recebido anteriormente com sucesso no sistema, tendo a mesma identificação do conhecimento de carga do HAWB. A identificação do conhecimento de carga HAWB é feita pelo conjunto da informação de número do HAWB (HouseWaybill/BusinessHeaderDocument/ID) e aeroporto de origem da carga do HAWB (HouseWaybill/MasterConsignment/IncludedHouseConsignment/OriginLocation/ID).&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para que um HAWB seja considerado associado a um MAWB(XFWB), deve haver arquivo de associação MAWB/HAWB(XFHL), que referencie o HAWB (XFZB), por meio de suas respectivas identificações do MAWB/HAWB e aeroporto de origem da carga. Além disso, todos os arquivos (XFHL, XFWB e XFZB) devem se encontrar na situação &amp;quot;&lt;em&gt;Processed&lt;/em&gt;&amp;quot;.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Um arquivo XFZB que está sendo enviado com a operação Creation pode ser encaminhado por este serviço a qualquer momento, inclusive após a chegada da aeronave. Já um arquivo que tenha a operação Update ou Deletion, somente será aceito pelo serviço até a informação da chegada da aeronave e caso a carga não esteja vinculada a um documento de saída. No caso da exclusão, esta operação também não será permitida caso o HAWB já esteja vinculado a seu MAWB, conforme a regra de associação acima mencionada. Nessas situações, as operações de retificação ou exclusão somente poderão ser realizadas por funcionalidades de tela (web) a serem disponibilizadas futuramente, e não mais por arquivo XML. A funcionalidade de exclusão será restrita para uso da RFB.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os conhecimentos de carga informados deverão ter código de classificação de mercadoria &lt;strong&gt;(NCM)&lt;/strong&gt; com 2, 4, 6 ou 8 posições em HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedHouseConsignmentItem/TypeCode. Esta tag poderá ser repetida caso seja desejado informar mais de um código NCM.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os valores totais de HAWB a serem informados, serão obrigatórios somente com relação ao valor de face (&lt;strong&gt;&amp;quot;F&amp;quot;&lt;/strong&gt;).&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;De acordo com a necessidade da Receita Federal do Brasil, os campos abaixo são de informação obrigatória. Caso o arquivo não apresente as informações a seguir, ele será rejeitado em tempo de processamento.&lt;/p&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip1\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Número Total de Volumes&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip1\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;HOUSE WAYBILL SUMMARY /Total number of pieces&lt;/td&gt;   &lt;td&gt;HouseWaybill / MasterConsignment / IncludedHouseConsignment / TotalPieceQuantity&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip2\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Peso Bruto Total&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip2\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;HOUSE WAYBILL SUMMARY / Total Gross Weight&lt;/td&gt;   &lt;td&gt;HouseWaybill / MasterConsignment / IncludedHouseConsignment / IncludedTareGrossWeightMeasure&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip3\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Peso Bruto Total - Unidade de Medida&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip3\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;HOUSE WAYBILL SUMMARY / Total Gross Weight&lt;/td&gt;   &lt;td&gt;HouseWaybill / MasterConsignment / IncludedHouseConsignment / IncludedTareGrossWeightMeasure (unit code)   &lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip4\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Descrição das Mercadorias&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip4\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;HOUSE WAYBILL SUMMARY / Description of Goods&lt;/td&gt;   &lt;td&gt;HouseWaybill / MasterConsignment / IncludedHouseConsignment / SummaryDescription&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip5\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Valor Total do Frete PREPAID&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip5\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;HOUSE WAYBILL SUMMARY / House Waybill Totals / Total Prepaid Charge Summary Amount&lt;/td&gt;   &lt;td&gt;HouseWaybill / MasterConsignment / IncludedHouseConsignment / TotalPrepaidChargeAmount&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip6\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Valor Total do Frete COLLECT&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip6\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;HOUSE WAYBILL SUMMARY / House Waybill Totals / Total Collect Charge Summary Amount&lt;/td&gt;   &lt;td&gt;HouseWaybill / MasterConsignment / IncludedHouseConsignment / TotalCollectChargeAmount&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A informação de identificação do consignatário não é obrigatória, porém, caso a mesma não conste do HAWB no momento da chegada da viagem, o sistema realizará um bloqueio automático na carga.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;De acordo com a necessidade da Receita Federal do Brasil, existem informações que poderão ser registradas no bloco de dados \&quot;Other Customs Informations\&quot;, não sendo obrigatórias nas versões iniciais.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;São elas:&lt;/p&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip7\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Indicador de Presença de Partes e Peças de Madeira  Maciça&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip7\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContentCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;DI&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;WOOD PARTS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;OCI&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information /Country code&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip8\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Identificação do Consignatário&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip8\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContentCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;T&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information /Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;- Se for um CPF informar &amp;quot;CPF&amp;#60;número do CPF com     11 dígitos&amp;#62;&amp;quot; . Ex: CPF12345678901&lt;/p&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;- Se for um CNPJ informar &amp;quot;CNPJ&amp;#60;número do CNPJ     com 8 ou 14 dígitos&amp;#62;&amp;quot;. Ex:CNPJ12345678901234&lt;/p&gt;    &lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;- Se for um Passaporte informar     &amp;quot;PASSPORT&amp;#60;número do passaporte com até 25 posições&amp;#62;. Ex:PASSPORTC12345678.&lt;/p&gt;   &lt;/td&gt;  &lt;/tr&gt;    &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;CNE&amp;quot; consignatário&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip9\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;RUC (Referência Única da Carga) / UCR (Unique  Consignment Reference)&lt;/strong&gt;&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Obs&lt;/strong&gt;: Caso a informação da RUC não seja encaminhada no arquivo, o sistema gera automaticamente um número para a carga. Se a RUC for informada, deverá atender a recomendação da Organização Mundial de Aduanas (OMA) para a Unique Consignment Reference (UCR).&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;ip9\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContentCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;U&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar UCR&amp;#60;número da RUC com até 32 posições&amp;#62;. Ex: UCR8BR167017161001713D0000000000004021&lt;/td&gt;  &lt;/tr&gt;    &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;IMP&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;ip10\&quot; style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;&lt;strong&gt;Código do Recinto Aduaneiro de Destino da  Carga&lt;/strong&gt;&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;ip10\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContentCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;M&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;CUSTOMSWAREHOUSE&amp;#60;número do Código do Recinto Aduaneiro de Destino da Carga com 7    dígitos&amp;#62;&amp;quot;. Ex:CUSTOMSWAREHOUSE1234567&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Information identifier&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;CCL&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Other Customs, Security and Regulatory Control Information / Country code&lt;/td&gt;   &lt;td&gt;HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID&lt;/td&gt;   &lt;td&gt;Informar &amp;quot;BR&amp;quot;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Todas as informações de data no arquivo devem ser encaminhadas com o fuso horário no padrão &lt;strong&gt;&amp;quot;YYYY-MM-DD&amp;#39;T&amp;#39;HH:mm:ss:SSS(‘+’/’-’)ZZ:ZZ&amp;quot;&lt;/strong&gt;.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;A informação do fuso horário de partida ou chegada da aeronave refere-se ao fuso horário local. A data de criação do arquivo deverá ser informada com o fuso do local onde foi criado.&lt;/p&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;par-metros-de-entrada-\&quot;&gt;Parâmetros de Entrada:&lt;/h3&gt;&lt;table aria-describedby&#x3D;\&quot;par-metros-de-entrada-\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Nome&lt;/th&gt;   &lt;th&gt;Descrição&lt;/th&gt;   &lt;th&gt;Tipo&lt;/th&gt;   &lt;th&gt;Local&lt;/th&gt;   &lt;th&gt;Detalhes&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Arquivo de conhecimento de carga (XFZB)&lt;/td&gt;   &lt;td&gt;Conhecimentos de carga &lt;em&gt;House&lt;/em&gt;(HAWB)&lt;/td&gt;   &lt;td&gt;Arquivo XML &lt;strong&gt;obrigatório&lt;/strong&gt;&lt;/td&gt;   &lt;td&gt;Body&lt;/td&gt;   &lt;td&gt;Versão 3.00 da IATA - informado pelos Agentes de Carga ou pelo Operador de Remessa Postal / Expressa   &lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;CNPJ&lt;/td&gt;   &lt;td&gt;CNPJ do Agente de Carga ou do Operador de Remessa Postal / Expressa&lt;/td&gt;   &lt;td&gt;Numérico(14) &lt;strong&gt;obrigatório&lt;/strong&gt;&lt;/td&gt;   &lt;td&gt;Query Param&lt;/td&gt;   &lt;td&gt;CNPJ (formato 99999999999999)&lt;/td&gt;   &lt;td&gt;&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/br&gt;&lt;h3 id&#x3D;\&quot;resposta-\&quot;&gt;Resposta :&lt;/h3&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os serviços de recebimento de arquivos terão o retorno de processamento por arquivo XFNM na versão 3.00, com as seguintes informações:&lt;/p&gt;&lt;table aria-describedby&#x3D;\&quot;resposta-\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Message Reference ID&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / ID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;BRCUSTOMS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Name&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / Name&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;Response&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Type&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / TypeCode&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;294&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Date / Time Stamp&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / IssueDateTime&lt;/td&gt;   &lt;td&gt;Data / hora de processamento do arquivo - UTC time&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Function&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / PurposeCode&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;Response&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Version&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / VersionID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;3.0&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Sender Qualifier&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / SenderParty / schemeID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;C&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Sender Identification&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / SenderParty / PrimaryID&lt;/td&gt;   &lt;td&gt;Fixo &amp;quot;BRCUSTOMS&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Recipient Qualifier&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / RecipientParty / schemeID&lt;/td&gt;   &lt;td&gt;Valor do campo Sender Qualifier (tag MessageHeaderDocument / SenderParty / schemeID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com “O’ (letra O)&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Recipient Identification&lt;/td&gt;   &lt;td&gt;MessageHeaderDocument / RecipientParty / PrimaryID&lt;/td&gt;   &lt;td&gt;Valor do campo Sender Identification (tag MessageHeaderDocument / SenderParty / PrimaryID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com &amp;quot;NOT IDENTIFIED&amp;quot;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Type&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / TypeCode&lt;/td&gt;   &lt;td&gt;Valor do campo Message Type (tag MessageHeaderDocument / TypeCode) do arquivo original. Caso este campo    não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com 999.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Message Name&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / Name&lt;/td&gt;   &lt;td&gt;Valor do campo Message Name (tag MessageHeaderDocument / Name) do arquivo original. Caso este campo não    seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com &amp;quot;NOT    IDENTIFIED&amp;quot;.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Original Document Identification&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / ID&lt;/td&gt;   &lt;td&gt;Valor do campo Message Reference ID (tag MessageHeaderDocument / ID) do arquivo original. Caso este    campo não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com    &amp;quot;NOT IDENTIFIED&amp;quot;.&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Response Type&lt;/td&gt;   &lt;td&gt;BusinessHeaderDocument / StatusCode&lt;/td&gt;   &lt;td&gt;“&lt;em&gt;Received&lt;/em&gt;” , “&lt;em&gt;Rejected&lt;/em&gt;” ou “&lt;em&gt;Processed&lt;/em&gt;” – conforme processamento do arquivo.    Na versão atual, haverá resposta apenas nas situações “&lt;em&gt;Received&lt;/em&gt;” (arquivo recebido e será    processado) ou “&lt;em&gt;Rejected&lt;/em&gt;”(arquivo foi rejeitado)&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Os arquivos que passarem pela validação do XSD (formato estabelecido pela IATA), receberão status “Received”, acompanhado do número de protocolo gerado para este arquivo. Este número de protocolo pode ser utilizado para verificar a situação de processamento do arquivo por meio dos serviços “Consultar Situação de Arquivos por Data” ou “Consultar Situação de Arquivos por número de Protocolo”.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Já os arquivos que não passarem pela validação do XSD (formato estabelecido pela IATA) receberão status “Rejected”, acompanhado da lista de erros encontrados.&lt;/p&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para arquivos com o campo Response Type igual a “&lt;em&gt;Received&lt;/em&gt;”, haverá somente um registro do bloco de dados Response Status, conforme abaixo. O campo &amp;quot;Text&amp;quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.&lt;/p&gt;&lt;span id&#x3D;\&quot;ip11\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;table aria-describedby&#x3D;\&quot;ip11\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Category&lt;/td&gt;   &lt;td&gt;ResponseStatus / ConditionCode&lt;/td&gt;   &lt;td&gt;Acknowledgement&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Text&lt;/td&gt;   &lt;td&gt;ResponseStatus / Reason&lt;/td&gt;   &lt;td&gt;Número do protocolo de recebimento&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;p style&#x3D;\&quot;margin-bottom: 1em; margin-top: 1em;\&quot;&gt;Para arquivos com o campo Response Type igual a “&lt;em&gt;Rejected&lt;/em&gt;”, cada ocorrência de erro conterá as seguintes informações no bloco de dados Response Status. O campo &amp;quot;Text&amp;quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.&lt;/p&gt;&lt;span id&#x3D;\&quot;ip12\&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;table aria-describedby&#x3D;\&quot;ip12\&quot;&gt; &lt;thead&gt;  &lt;tr&gt;   &lt;th&gt;Campo&lt;/th&gt;   &lt;th&gt;Tag XML&lt;/th&gt;   &lt;th&gt;Valor&lt;/th&gt;  &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt;  &lt;tr&gt;   &lt;td&gt;Category&lt;/td&gt;   &lt;td&gt;ResponseStatus / ConditionCode&lt;/td&gt;   &lt;td&gt;Error&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;   &lt;td&gt;Text&lt;/td&gt;   &lt;td&gt;ResponseStatus / Reason&lt;/td&gt;   &lt;td&gt;Texto contendo a linha e coluna com erro, (informando Row:&amp;#60;número da linha&amp;#62; &amp;#124;    Column:&amp;#60;número da coluna&amp;#62;) e a descrição do erro verificada.Tamanho do campo: 5000 posições. Ex:    &amp;quot;Row:7&amp;#124;Column:20&amp;#124;Error: cvc-complex-type.2.4.a: Invalid content was found starting with    element &amp;#39;{&amp;quot;iata:datamodel:3&amp;quot;:PurposeCode}&amp;#39;. One of    &amp;#39;{&amp;quot;iata:datamodel:3&amp;quot;:IssueDateTime}&amp;#39; is expected.&lt;/td&gt;  &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;
     *
     */
    @POST
    @Path("/api/ext/incoming/xfzb")
    @Consumes({ "application/xml" })
    @Produces({ "application/xml" })
    @ApiOperation(value = "Informar Conhecimento de Carga House - XFZB (House Air Waybill)", notes = "<p style=\"margin-bottom: 1em; margin-top: 1em;\">Encaminhamento de arquivo XML para processamento de conhecimentos de cargas house (HAWB - <em>House Air Waybill</em>). Será permitida apenas uma mensagem XFZB por arquivo, contendo a operação de <em>Creation</em>, <em>Update</em> ou <em>Deletion</em>, conforme o padrão IATA.<p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos de operação Update ou Deletion serão processados, caso exista um arquivo de Creation recebido anteriormente com sucesso no sistema, tendo a mesma identificação do conhecimento de carga do HAWB. A identificação do conhecimento de carga HAWB é feita pelo conjunto da informação de número do HAWB (HouseWaybill/BusinessHeaderDocument/ID) e aeroporto de origem da carga do HAWB (HouseWaybill/MasterConsignment/IncludedHouseConsignment/OriginLocation/ID).</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para que um HAWB seja considerado associado a um MAWB(XFWB), deve haver arquivo de associação MAWB/HAWB(XFHL), que referencie o HAWB (XFZB), por meio de suas respectivas identificações do MAWB/HAWB e aeroporto de origem da carga. Além disso, todos os arquivos (XFHL, XFWB e XFZB) devem se encontrar na situação &quot;<em>Processed</em>&quot;.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Um arquivo XFZB que está sendo enviado com a operação Creation pode ser encaminhado por este serviço a qualquer momento, inclusive após a chegada da aeronave. Já um arquivo que tenha a operação Update ou Deletion, somente será aceito pelo serviço até a informação da chegada da aeronave e caso a carga não esteja vinculada a um documento de saída. No caso da exclusão, esta operação também não será permitida caso o HAWB já esteja vinculado a seu MAWB, conforme a regra de associação acima mencionada. Nessas situações, as operações de retificação ou exclusão somente poderão ser realizadas por funcionalidades de tela (web) a serem disponibilizadas futuramente, e não mais por arquivo XML. A funcionalidade de exclusão será restrita para uso da RFB.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os conhecimentos de carga informados deverão ter código de classificação de mercadoria <strong>(NCM)</strong> com 2, 4, 6 ou 8 posições em HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedHouseConsignmentItem/TypeCode. Esta tag poderá ser repetida caso seja desejado informar mais de um código NCM.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os valores totais de HAWB a serem informados, serão obrigatórios somente com relação ao valor de face (<strong>&quot;F&quot;</strong>).</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">De acordo com a necessidade da Receita Federal do Brasil, os campos abaixo são de informação obrigatória. Caso o arquivo não apresente as informações a seguir, ele será rejeitado em tempo de processamento.</p></br><h3 id=\"ip1\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Número Total de Volumes</strong></h3><table aria-describedby=\"ip1\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>HOUSE WAYBILL SUMMARY /Total number of pieces</td>   <td>HouseWaybill / MasterConsignment / IncludedHouseConsignment / TotalPieceQuantity</td>  </tr> </tbody></table></br><h3 id=\"ip2\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Peso Bruto Total</strong></h3><table aria-describedby=\"ip2\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>HOUSE WAYBILL SUMMARY / Total Gross Weight</td>   <td>HouseWaybill / MasterConsignment / IncludedHouseConsignment / IncludedTareGrossWeightMeasure</td>  </tr> </tbody></table></br><h3 id=\"ip3\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Peso Bruto Total - Unidade de Medida</strong></h3><table aria-describedby=\"ip3\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>HOUSE WAYBILL SUMMARY / Total Gross Weight</td>   <td>HouseWaybill / MasterConsignment / IncludedHouseConsignment / IncludedTareGrossWeightMeasure (unit code)   </td>  </tr> </tbody></table></br><h3 id=\"ip4\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Descrição das Mercadorias</strong></h3><table aria-describedby=\"ip4\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>HOUSE WAYBILL SUMMARY / Description of Goods</td>   <td>HouseWaybill / MasterConsignment / IncludedHouseConsignment / SummaryDescription</td>  </tr> </tbody></table></br><h3 id=\"ip5\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Valor Total do Frete PREPAID</strong></h3><table aria-describedby=\"ip5\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>HOUSE WAYBILL SUMMARY / House Waybill Totals / Total Prepaid Charge Summary Amount</td>   <td>HouseWaybill / MasterConsignment / IncludedHouseConsignment / TotalPrepaidChargeAmount</td>  </tr> </tbody></table></br><h3 id=\"ip6\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Valor Total do Frete COLLECT</strong></h3><table aria-describedby=\"ip6\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>  </tr> </thead> <tbody>  <tr>   <td>HOUSE WAYBILL SUMMARY / House Waybill Totals / Total Collect Charge Summary Amount</td>   <td>HouseWaybill / MasterConsignment / IncludedHouseConsignment / TotalCollectChargeAmount</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">A informação de identificação do consignatário não é obrigatória, porém, caso a mesma não conste do HAWB no momento da chegada da viagem, o sistema realizará um bloqueio automático na carga.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">De acordo com a necessidade da Receita Federal do Brasil, existem informações que poderão ser registradas no bloco de dados \"Other Customs Informations\", não sendo obrigatórias nas versões iniciais.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">São elas:</p></br><h3 id=\"ip7\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Indicador de Presença de Partes e Peças de Madeira  Maciça</strong></h3><table aria-describedby=\"ip7\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContentCode</td>   <td>Informar &quot;DI&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content</td>   <td>Informar &quot;WOOD PARTS&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;OCI&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information /Country code</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>  </tr> </tbody></table></br><h3 id=\"ip8\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Identificação do Consignatário</strong></h3><table aria-describedby=\"ip8\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContentCode</td>   <td>Informar &quot;T&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information /Supplementary Customs, Security and    Regulatory Control Information</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content</td>   <td>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">- Se for um CPF informar &quot;CPF&#60;número do CPF com     11 dígitos&#62;&quot; . Ex: CPF12345678901</p>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">- Se for um CNPJ informar &quot;CNPJ&#60;número do CNPJ     com 8 ou 14 dígitos&#62;&quot;. Ex:CNPJ12345678901234</p>    <p style=\"margin-bottom: 1em; margin-top: 1em;\">- Se for um Passaporte informar     &quot;PASSPORT&#60;número do passaporte com até 25 posições&#62;. Ex:PASSPORTC12345678.</p>   </td>  </tr>    <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;CNE&quot; consignatário</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>  </tr> </tbody></table></br><h3 id=\"ip9\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>RUC (Referência Única da Carga) / UCR (Unique  Consignment Reference)</strong></h3><p style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Obs</strong>: Caso a informação da RUC não seja encaminhada no arquivo, o sistema gera automaticamente um número para a carga. Se a RUC for informada, deverá atender a recomendação da Organização Mundial de Aduanas (OMA) para a Unique Consignment Reference (UCR).</p><table aria-describedby=\"ip9\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContentCode</td>   <td>Informar &quot;U&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content</td>   <td>Informar UCR&#60;número da RUC com até 32 posições&#62;. Ex: UCR8BR167017161001713D0000000000004021</td>  </tr>    <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;IMP&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>  </tr> </tbody></table></br><h3 id=\"ip10\" style=\"margin-bottom: 1em; margin-top: 1em;\"><strong>Código do Recinto Aduaneiro de Destino da  Carga</strong></h3><table aria-describedby=\"ip10\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Customs, Security and Regulatory Control    Information Identifier</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/ContentCode</td>   <td>Informar &quot;M&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Supplementary Customs, Security and    Regulatory Control Information</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/Content</td>   <td>Informar &quot;CUSTOMSWAREHOUSE&#60;número do Código do Recinto Aduaneiro de Destino da Carga com 7    dígitos&#62;&quot;. Ex:CUSTOMSWAREHOUSE1234567</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Information identifier</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/SubjectCode</td>   <td>Informar &quot;CCL&quot;</td>  </tr>  <tr>   <td>Other Customs, Security and Regulatory Control Information / Country code</td>   <td>HouseWaybill/MasterConsignment/IncludedHouseConsignment/IncludedCustomsNote/CountryID</td>   <td>Informar &quot;BR&quot;</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Todas as informações de data no arquivo devem ser encaminhadas com o fuso horário no padrão <strong>&quot;YYYY-MM-DD&#39;T&#39;HH:mm:ss:SSS(‘+’/’-’)ZZ:ZZ&quot;</strong>.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">A informação do fuso horário de partida ou chegada da aeronave refere-se ao fuso horário local. A data de criação do arquivo deverá ser informada com o fuso do local onde foi criado.</p></br><h3 id=\"par-metros-de-entrada-\">Parâmetros de Entrada:</h3><table aria-describedby=\"par-metros-de-entrada-\"> <thead>  <tr>   <th>Nome</th>   <th>Descrição</th>   <th>Tipo</th>   <th>Local</th>   <th>Detalhes</th>  </tr> </thead> <tbody>  <tr>   <td>Arquivo de conhecimento de carga (XFZB)</td>   <td>Conhecimentos de carga <em>House</em>(HAWB)</td>   <td>Arquivo XML <strong>obrigatório</strong></td>   <td>Body</td>   <td>Versão 3.00 da IATA - informado pelos Agentes de Carga ou pelo Operador de Remessa Postal / Expressa   </td>   <td></td>  </tr>  <tr>   <td>CNPJ</td>   <td>CNPJ do Agente de Carga ou do Operador de Remessa Postal / Expressa</td>   <td>Numérico(14) <strong>obrigatório</strong></td>   <td>Query Param</td>   <td>CNPJ (formato 99999999999999)</td>   <td></td>  </tr> </tbody></table></br><h3 id=\"resposta-\">Resposta :</h3><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os serviços de recebimento de arquivos terão o retorno de processamento por arquivo XFNM na versão 3.00, com as seguintes informações:</p><table aria-describedby=\"resposta-\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Message Reference ID</td>   <td>MessageHeaderDocument / ID</td>   <td>Fixo &quot;BRCUSTOMS&quot;</td>  </tr>  <tr>   <td>Message Name</td>   <td>MessageHeaderDocument / Name</td>   <td>Fixo &quot;Response&quot;</td>  </tr>  <tr>   <td>Message Type</td>   <td>MessageHeaderDocument / TypeCode</td>   <td>Fixo &quot;294&quot;</td>  </tr>  <tr>   <td>Message Date / Time Stamp</td>   <td>MessageHeaderDocument / IssueDateTime</td>   <td>Data / hora de processamento do arquivo - UTC time</td>  </tr>  <tr>   <td>Message Function</td>   <td>MessageHeaderDocument / PurposeCode</td>   <td>Fixo &quot;Response&quot;</td>  </tr>  <tr>   <td>Message Version</td>   <td>MessageHeaderDocument / VersionID</td>   <td>Fixo &quot;3.0&quot;</td>  </tr>  <tr>   <td>Sender Qualifier</td>   <td>MessageHeaderDocument / SenderParty / schemeID</td>   <td>Fixo &quot;C&quot;</td>  </tr>  <tr>   <td>Sender Identification</td>   <td>MessageHeaderDocument / SenderParty / PrimaryID</td>   <td>Fixo &quot;BRCUSTOMS&quot;</td>  </tr>  <tr>   <td>Recipient Qualifier</td>   <td>MessageHeaderDocument / RecipientParty / schemeID</td>   <td>Valor do campo Sender Qualifier (tag MessageHeaderDocument / SenderParty / schemeID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com “O’ (letra O)</td>  </tr>  <tr>   <td>Recipient Identification</td>   <td>MessageHeaderDocument / RecipientParty / PrimaryID</td>   <td>Valor do campo Sender Identification (tag MessageHeaderDocument / SenderParty / PrimaryID) do arquivo    recebido. Caso não seja passível de identificação ou for inválido ou não vier preenchido, será    preenchido com &quot;NOT IDENTIFIED&quot;</td>  </tr>  <tr>   <td>Message Type</td>   <td>BusinessHeaderDocument / TypeCode</td>   <td>Valor do campo Message Type (tag MessageHeaderDocument / TypeCode) do arquivo original. Caso este campo    não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com 999.</td>  </tr>  <tr>   <td>Message Name</td>   <td>BusinessHeaderDocument / Name</td>   <td>Valor do campo Message Name (tag MessageHeaderDocument / Name) do arquivo original. Caso este campo não    seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com &quot;NOT    IDENTIFIED&quot;.</td>  </tr>  <tr>   <td>Original Document Identification</td>   <td>BusinessHeaderDocument / ID</td>   <td>Valor do campo Message Reference ID (tag MessageHeaderDocument / ID) do arquivo original. Caso este    campo não seja passível de identificação ou for inválido ou não vier preenchido, será preenchido com    &quot;NOT IDENTIFIED&quot;.</td>  </tr>  <tr>   <td>Response Type</td>   <td>BusinessHeaderDocument / StatusCode</td>   <td>“<em>Received</em>” , “<em>Rejected</em>” ou “<em>Processed</em>” – conforme processamento do arquivo.    Na versão atual, haverá resposta apenas nas situações “<em>Received</em>” (arquivo recebido e será    processado) ou “<em>Rejected</em>”(arquivo foi rejeitado)</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Os arquivos que passarem pela validação do XSD (formato estabelecido pela IATA), receberão status “Received”, acompanhado do número de protocolo gerado para este arquivo. Este número de protocolo pode ser utilizado para verificar a situação de processamento do arquivo por meio dos serviços “Consultar Situação de Arquivos por Data” ou “Consultar Situação de Arquivos por número de Protocolo”.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Já os arquivos que não passarem pela validação do XSD (formato estabelecido pela IATA) receberão status “Rejected”, acompanhado da lista de erros encontrados.</p><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para arquivos com o campo Response Type igual a “<em>Received</em>”, haverá somente um registro do bloco de dados Response Status, conforme abaixo. O campo &quot;Text&quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.</p><span id=\"ip11\">&nbsp;</span><table aria-describedby=\"ip11\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Category</td>   <td>ResponseStatus / ConditionCode</td>   <td>Acknowledgement</td>  </tr>  <tr>   <td>Text</td>   <td>ResponseStatus / Reason</td>   <td>Número do protocolo de recebimento</td>  </tr> </tbody></table><p style=\"margin-bottom: 1em; margin-top: 1em;\">Para arquivos com o campo Response Type igual a “<em>Rejected</em>”, cada ocorrência de erro conterá as seguintes informações no bloco de dados Response Status. O campo &quot;Text&quot; terá tamanho de 5000 caracteres, diferentemente do padrão estabelecido pela IATA.</p><span id=\"ip12\">&nbsp;</span><table aria-describedby=\"ip12\"> <thead>  <tr>   <th>Campo</th>   <th>Tag XML</th>   <th>Valor</th>  </tr> </thead> <tbody>  <tr>   <td>Category</td>   <td>ResponseStatus / ConditionCode</td>   <td>Error</td>  </tr>  <tr>   <td>Text</td>   <td>ResponseStatus / Reason</td>   <td>Texto contendo a linha e coluna com erro, (informando Row:&#60;número da linha&#62; &#124;    Column:&#60;número da coluna&#62;) e a descrição do erro verificada.Tamanho do campo: 5000 posições. Ex:    &quot;Row:7&#124;Column:20&#124;Error: cvc-complex-type.2.4.a: Invalid content was found starting with    element &#39;{&quot;iata:datamodel:3&quot;:PurposeCode}&#39;. One of    &#39;{&quot;iata:datamodel:3&quot;:IssueDateTime}&#39; is expected.</td>  </tr> </tbody></table>", tags={ "Serviços de Envio de Arquivos" })
    @ApiResponses(value = { 
        @ApiResponse(code = 200, message = "Operação realizada com sucesso", response = String.class),
        @ApiResponse(code = 204, message = "Operação realizada com sucesso. Nenhum conteúdo retornado"),
        @ApiResponse(code = 400, message = "Requisição mal formatada"),
        @ApiResponse(code = 401, message = "Usuário não autenticado ou autenticação inválida"),
        @ApiResponse(code = 403, message = "Usuário não tem permissão de acesso ao recurso"),
        @ApiResponse(code = 404, message = "Recurso não encontrado"),
        @ApiResponse(code = 422, message = "Erro(s) de validação da camada de negócio"),
        @ApiResponse(code = 500, message = "Erro interno no servidor") })
    public Response doPostUsingPOST3(@ApiParam(value = "" ,required=true)@Valid String body, @ApiParam(value = "JSON Web Token (JWT) contendo as informações do usuário. Este token é recuperado no parâmetro Set-Token no response da autenticação" ,required=true)@HeaderParam("Authorization") String authorization, @ApiParam(value = "Token de prevenção contra ataques CSRF. Este token é recuperado no parâmetro X-CSRF-Token no response da autenticação" ,required=true)@HeaderParam("X-CSRF-Token") String xCSRFToken,  @NotNull @ApiParam(value = "CNPJ do Agente de Carga ou do Operador de Remessa Postal / Expressa  Tamanho: 14  Formato: NNNNNNNNNNNNNN",required=true)  @QueryParam("cnpj") String cnpj);
}

